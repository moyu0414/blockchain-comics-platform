{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Container,Carousel,Card,Col,Row,Button}from'react-bootstrap';import'./bootstrap.min.css';import{HeartFill,CartFill}from'react-bootstrap-icons';import{useTranslation}from'react-i18next';import i18n from'../i18n';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const website=process.env.REACT_APP_Website;const API_KEY=process.env.REACT_APP_API_KEY;const HomePage=()=>{const[current,setCurrent]=useState([]);const[promoPosition,setPromoPosition]=useState([]);const[loading,setLoading]=useState(true);const{t}=useTranslation();const storedArrayJSON=localStorage.getItem('comicDatas');const storedArray=JSON.parse(storedArrayJSON);const headers={'api-key':API_KEY};const initData=async()=>{try{const response=await axios.get(\"\".concat(website,\"/api/homepage/updateStats\"),{headers});let comics=response.data;//console.log(comics);\nconst totalCountMap=comics.reduce((map,comic)=>{map[comic.comic_id]={totHearts:comic.totHearts,// 收藏数\ntotBuy:comic.totBuy// 购买数\n};return map;},{});const updatedFetchedData=storedArray.map(data=>{var _totalCountMap$data$c,_totalCountMap$data$c2;return{...data,...totalCountMap[data.comic_id],total:(((_totalCountMap$data$c=totalCountMap[data.comic_id])===null||_totalCountMap$data$c===void 0?void 0:_totalCountMap$data$c.totHearts)||0)+(((_totalCountMap$data$c2=totalCountMap[data.comic_id])===null||_totalCountMap$data$c2===void 0?void 0:_totalCountMap$data$c2.totBuy)||0)};});const filteredData=updatedFetchedData.filter(data=>data.is_exist===0);const categoryCounts={};filteredData.forEach(data=>{categoryCounts[data.category]=(categoryCounts[data.category]||0)+1;});const promoCategories=Object.keys(categoryCounts).sort((a,b)=>categoryCounts[b]-categoryCounts[a]).slice(0,4);setPromoPosition(promoCategories);const fetchComicData=async comic=>{if(promoCategories.includes(comic.category)){try{const imageResponse=await axios.get(\"\".concat(website,\"/api/comicIMG/\").concat(comic.comic_id),{responseType:'blob',headers});comic.image=URL.createObjectURL(imageResponse.data);// Set the comic image URL\nif(comic.protoFilename===1){const protoFilenameResponse=await axios.get(\"\".concat(website,\"/api/coverFile/\").concat(comic.comic_id),{responseType:'blob',headers});comic.protoFilename=URL.createObjectURL(protoFilenameResponse.data);// Set the proto image URL\n}}catch(error){console.error('Error fetching comic image path:',error);}}};await Promise.all(filteredData.map(fetchComicData));filteredData.sort((a,b)=>b.total-a.total);//console.log(filteredData);\nsetCurrent(filteredData);setLoading(false);}catch(error){console.error('Error initializing contract:',error);}};useEffect(()=>{initData();},[]);const buttonData=['戀愛','懸疑','恐怖','冒險','古風','玄幻','武俠','搞笑'];const handleCategoryClick=category=>{localStorage.setItem('currentCategory',category);};return/*#__PURE__*/_jsxs(_Fragment,{children:[!loading&&/*#__PURE__*/_jsxs(Container,{className:\"homepage pt-2\",children:[/*#__PURE__*/_jsx(Carousel,{children:promoPosition.map(category=>{// max(前4個類型)，取第1個輪播\nconst firstItem=current.find(data=>data.category===category);if(firstItem){const imageUrl=firstItem.protoFilename?firstItem.protoFilename:firstItem.image;return/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsxs(Link,{to:\"/comicDetail/\".concat(firstItem.comicID),children:[/*#__PURE__*/_jsx(\"div\",{className:\"carousel-image-container embed-responsive embed-responsive-16by9\",children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block mx-auto img-fluid\",src:imageUrl,alt:\"Slide for \".concat(category)})}),/*#__PURE__*/_jsxs(Carousel.Caption,{className:\"carousel-caption-custom\",children:[/*#__PURE__*/_jsx(\"h3\",{children:firstItem.title}),/*#__PURE__*/_jsx(\"p\",{children:firstItem.description})]})]})},category);}else{return null;// 如果沒有找到符合的項目，返回空\n}})}),/*#__PURE__*/_jsx(Row,{className:\"pt-5 pb-4 btn-container\",children:buttonData.map((label,idx)=>/*#__PURE__*/_jsx(Col,{xs:2,md:2,lg:1,className:\"pb-1 btn-section\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-dark\",className:\"custom-button\",onClick:()=>handleCategoryClick(t(label)),children:/*#__PURE__*/_jsx(Link,{to:\"/category\",state:{from:'homepage'},className:\"custom-link\",children:t(label)})})},idx))}),promoPosition.map(category=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"fw-bold\",children:[t(category),\" \",t('漫畫')]}),/*#__PURE__*/_jsx(Carousel,{interval:null,pause:false,wrap:true,indicators:false,className:\"comic-carousel\",children:/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-row\",children:current.filter(data=>data.category===category).map((data,idx)=>/*#__PURE__*/_jsx(Col,{xs:6,md:3,className:\"mx-1\",children:/*#__PURE__*/_jsxs(Card,{style:{marginRight:\"8%\"},className:\"ranking-thumbnail-position\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/comicDetail/\".concat(data.comicID),children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:data.image}),/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-penName\",children:[data.penName,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CartFill,{style:{marginRight:'5px',marginBottom:\"3px\"}}),data.totBuy,/*#__PURE__*/_jsx(HeartFill,{style:{marginLeft:\"5px\",marginRight:'5px',marginBottom:\"3px\"}}),data.totHearts]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-overlay\",children:[/*#__PURE__*/_jsx(\"h5\",{style:{marginTop:\"15px\"},children:data.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-overlay-penName\",children:data.penName}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{children:data.description})]})]}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Title,{className:\"fw-bold text-center\",children:data.title})})]})},idx))})})})]},category))]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{children:t('頁面加載中')})})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Link","Container","Carousel","Card","Col","Row","Button","HeartFill","CartFill","useTranslation","i18n","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","website","process","env","REACT_APP_Website","API_KEY","REACT_APP_API_KEY","HomePage","current","setCurrent","promoPosition","setPromoPosition","loading","setLoading","t","storedArrayJSON","localStorage","getItem","storedArray","JSON","parse","headers","initData","response","get","concat","comics","data","totalCountMap","reduce","map","comic","comic_id","totHearts","totBuy","updatedFetchedData","_totalCountMap$data$c","_totalCountMap$data$c2","total","filteredData","filter","is_exist","categoryCounts","forEach","category","promoCategories","Object","keys","sort","a","b","slice","fetchComicData","includes","imageResponse","responseType","image","URL","createObjectURL","protoFilename","protoFilenameResponse","error","console","Promise","all","buttonData","handleCategoryClick","setItem","children","className","firstItem","find","imageUrl","Item","to","comicID","src","alt","Caption","title","description","label","idx","xs","md","lg","variant","onClick","state","from","interval","pause","wrap","indicators","style","marginRight","Img","penName","marginBottom","marginLeft","marginTop","Body","Title"],"sources":["C:/Users/user1/Desktop/blockchain-comics-platform/frontend/src/routes/homePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container, Carousel, Card, Col, Row, Button } from 'react-bootstrap';\r\nimport './bootstrap.min.css';\r\nimport { HeartFill, CartFill } from 'react-bootstrap-icons';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../i18n';\r\nimport axios from 'axios';\r\nconst website = process.env.REACT_APP_Website;\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst HomePage = () => {\r\n    const [current, setCurrent] = useState([]);\r\n    const [promoPosition, setPromoPosition] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const { t } = useTranslation();\r\n    const storedArrayJSON = localStorage.getItem('comicDatas');\r\n    const storedArray = JSON.parse(storedArrayJSON);\r\n    const headers = {'api-key': API_KEY};\r\n    \r\n    const initData = async () => {\r\n        try {\r\n            const response = await axios.get(`${website}/api/homepage/updateStats`, { headers });\r\n            let comics = response.data;\r\n            //console.log(comics);\r\n            const totalCountMap = comics.reduce((map, comic) => {\r\n                map[comic.comic_id] = {\r\n                    totHearts: comic.totHearts, // 收藏数\r\n                    totBuy: comic.totBuy // 购买数\r\n                };\r\n                return map;\r\n            }, {});\r\n            const updatedFetchedData = storedArray.map(data => ({\r\n                ...data,\r\n                ...totalCountMap[data.comic_id],\r\n                total: (totalCountMap[data.comic_id]?.totHearts || 0) + (totalCountMap[data.comic_id]?.totBuy || 0)\r\n            }));\r\n            const filteredData = updatedFetchedData.filter(data => data.is_exist === 0);\r\n\r\n            const categoryCounts = {};\r\n            filteredData.forEach(data => {\r\n                categoryCounts[data.category] = (categoryCounts[data.category] || 0) + 1;\r\n            });\r\n            const promoCategories = Object.keys(categoryCounts)\r\n                .sort((a, b) => categoryCounts[b] - categoryCounts[a])\r\n                .slice(0, 4); \r\n            setPromoPosition(promoCategories);\r\n            const fetchComicData = async (comic) => {\r\n                if (promoCategories.includes(comic.category)) {\r\n                    try {\r\n                        const imageResponse = await axios.get(`${website}/api/comicIMG/${comic.comic_id}`, { responseType: 'blob', headers });\r\n                        comic.image = URL.createObjectURL(imageResponse.data); // Set the comic image URL\r\n            \r\n                        if (comic.protoFilename === 1) {\r\n                            const protoFilenameResponse = await axios.get(`${website}/api/coverFile/${comic.comic_id}`, { responseType: 'blob', headers });\r\n                            comic.protoFilename = URL.createObjectURL(protoFilenameResponse.data); // Set the proto image URL\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error fetching comic image path:', error);\r\n                    }\r\n                }\r\n            };\r\n            await Promise.all(filteredData.map(fetchComicData));\r\n            filteredData.sort((a, b) => b.total - a.total);\r\n            //console.log(filteredData);\r\n            setCurrent(filteredData);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            console.error('Error initializing contract:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        initData();\r\n    }, []);\r\n    \r\n    const buttonData = [\r\n        '戀愛', '懸疑', '恐怖', '冒險',\r\n        '古風', '玄幻', '武俠', '搞笑',\r\n    ];\r\n\r\n    const handleCategoryClick = (category) => {\r\n        localStorage.setItem('currentCategory', category);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            {!loading &&\r\n                <Container className='homepage pt-2'>\r\n                    <Carousel>\r\n                        {promoPosition.map(category => {\r\n                            // max(前4個類型)，取第1個輪播\r\n                            const firstItem = current.find(data => data.category === category);\r\n                            if (firstItem) {\r\n                                const imageUrl = firstItem.protoFilename ? firstItem.protoFilename : firstItem.image;\r\n                                return (\r\n                                    <Carousel.Item key={category}>\r\n                                        <Link to={`/comicDetail/${firstItem.comicID}`}>\r\n                                            <div className=\"carousel-image-container embed-responsive embed-responsive-16by9\">\r\n                                                <img\r\n                                                    className=\"d-block mx-auto img-fluid\"\r\n                                                    src={imageUrl}\r\n                                                    alt={`Slide for ${category}`}\r\n                                                />\r\n                                            </div>\r\n                                            <Carousel.Caption className=\"carousel-caption-custom\">\r\n                                                <h3>{firstItem.title}</h3>\r\n                                                <p>{firstItem.description}</p>\r\n                                            </Carousel.Caption>\r\n                                        </Link>\r\n                                    </Carousel.Item>\r\n                                );\r\n                            } else {\r\n                                return null; // 如果沒有找到符合的項目，返回空\r\n                            }\r\n                        })}\r\n                    </Carousel>\r\n        \r\n                    <Row className=\"pt-5 pb-4 btn-container\">\r\n                        {buttonData.map((label, idx) => (\r\n                            <Col key={idx} xs={2} md={2} lg={1} className=\"pb-1 btn-section\">\r\n                                <Button \r\n                                    variant=\"outline-dark\"\r\n                                    className=\"custom-button\"\r\n                                    onClick={() => handleCategoryClick(t(label))}\r\n                                >\r\n                                    <Link \r\n                                        to={\"/category\"}\r\n                                        state={{ from: 'homepage' }}\r\n                                        className=\"custom-link\"\r\n                                    >\r\n                                        {t(label)}\r\n                                    </Link>\r\n                                </Button>\r\n                            </Col>\r\n                        ))}\r\n                    </Row>\r\n                    \r\n                    {promoPosition.map(category => (\r\n                        <div key={category}>\r\n                            <h3 className=\"fw-bold\">{t(category)} {t('漫畫')}</h3>\r\n                            <Carousel interval={null} pause={false} wrap={true} indicators={false} className=\"comic-carousel\">\r\n                                <Carousel.Item>\r\n                                    <div className=\"carousel-row\">\r\n                                        {current.filter(data => data.category === category).map((data, idx) => (\r\n                                            <Col key={idx} xs={6} md={3} className=\"mx-1\">\r\n                                                <Card style={{marginRight: \"8%\"}} className=\"ranking-thumbnail-position\">\r\n                                                    <Link to={`/comicDetail/${data.comicID}`}>\r\n                                                        <Card.Img variant=\"top\" src={data.image} />\r\n                                                        <div className=\"homepage-penName\">\r\n                                                            {data.penName}<br />\r\n                                                            <CartFill style={{ marginRight: '5px', marginBottom: \"3px\" }} />\r\n                                                            {data.totBuy}\r\n                                                            <HeartFill style={{ marginLeft: \"5px\",marginRight: '5px', marginBottom: \"3px\" }} />\r\n                                                            {data.totHearts}\r\n                                                        </div>\r\n                                                        <div className=\"card-overlay\">\r\n                                                            <h5 style={{marginTop: \"15px\"}}>{data.title}</h5>\r\n                                                            <p className=\"card-overlay-penName\">{data.penName}</p>\r\n                                                            <hr />\r\n                                                            <p>{data.description}</p>\r\n                                                        </div>\r\n                                                    </Link>\r\n                                                    <Card.Body>\r\n                                                        <Card.Title className='fw-bold text-center'>{data.title}</Card.Title>\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Col>\r\n                                        ))}\r\n                                    </div>\r\n                                </Carousel.Item>\r\n                            </Carousel>\r\n                        </div>\r\n                    ))}\r\n                </Container>\r\n            }\r\n            {loading &&  \r\n                <div className=\"loading-container\">\r\n                    <div>{t('頁面加載中')}</div>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}