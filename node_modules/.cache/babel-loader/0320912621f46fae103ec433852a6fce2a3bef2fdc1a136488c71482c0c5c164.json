{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import Web3 from'web3';import comicData from'../contracts/ComicPlatform.json';import{Container,Table,Button,Form,Tabs,Tab,InputGroup,FormControl,Modal,Tooltip,OverlayTrigger}from'react-bootstrap';import{PlusLg,TrashFill,Search}from'react-bootstrap-icons';import{formatDate}from'../index';import{message}from'antd';import{useTranslation}from'react-i18next';import i18n from'../i18n';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const website=process.env.REACT_APP_Website;const API_KEY=process.env.REACT_APP_API_KEY;const ComicManagement=_ref=>{let{contractAddress}=_ref;const storedArrayJSON=localStorage.getItem('comicDatas');const currentAccount=localStorage.getItem(\"currentAccount\");const[storedArray,setStoredArray]=useState([]);const[meta,setMeta]=useState('');const[current,setCurrent]=useState([]);const[admin,setAdmin]=useState(false);const[account,setAccount]=useState([]);const[withdrawState,setWithdrawState]=useState(false);const withdrawRef=useRef('');const[inputValue,setInputValue]=useState('');const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[isMobile,setIsMobile]=useState(false);const[web3Instance,setWeb3Instance]=useState('');const[showUser,setShowUser]=useState(false);const[deleteUser,setDeleteUser]=useState('');const[userSearchTerm,setUserSearchTerm]=useState('');const[userSearchResults,setUserSearchResults]=useState([]);const[modalState,setModalState]=useState({show:false,isConfirm:false,action:null,data:null});const[loading,setLoading]=useState(true);const{t}=useTranslation();const headers={'api-key':API_KEY};const statusMap={0:'刪除',1:'查核',2:'盜版'};let modifiedArray=[];useEffect(()=>{const initialData=async()=>{try{const response=await axios.get(\"\".concat(website,\"/api/comicManagement/isAdmin\"),{headers:headers,params:{currentAccount:currentAccount}});let isAdmin=response.data;if(isAdmin.exists===true){try{await window.ethereum.request({method:'eth_requestAccounts'});const web3Instance=new Web3(window.ethereum);setWeb3Instance(web3Instance);const contractInstance=new web3Instance.eth.Contract(comicData.abi,comicData.address);const meta=await contractInstance.methods;setMeta(meta);const adminAddresses=isAdmin.address.filter(user=>user.is_admin===1).map(user=>user.address);if(adminAddresses.length>0){setAdmin(adminAddresses);}const addresses=isAdmin.address.map(user=>({address:user.address,is_creator:getCreatorStatus(user.is_creator),penName:user.penName,enable:user.date[0]?formatDate(new Date(user.date[0])):'-',// 啟用日\napplied:user.date[1]?formatDate(new Date(user.date[1])):'-',// 申請日\napproved:user.date[2]?formatDate(new Date(user.date[2])):'-',// 審核通過日\ndisabled:user.date[3]?formatDate(new Date(user.date[3])):'-'// 禁用日\n})).sort((a,b)=>{if(a.is_creator==='審核')return-1;if(b.is_creator==='審核')return 1;return 0;});if(addresses.length>0){setAccount(addresses);setUserSearchResults(addresses);}let storedArray=JSON.parse(storedArrayJSON);setStoredArray(storedArray);for(let i=0;i<storedArray.length;i++){const status=statusMap[storedArray[i].is_exist];modifiedArray.push({title:storedArray[i].title,penName:storedArray[i].penName,author:storedArray[i].creator,hash:storedArray[i].comic_id,exists:status});}const sortedArray=modifiedArray.sort((a,b)=>{if(a.exists===\"查核\")return-1;if(b.exists===\"查核\")return 1;if(a.exists===\"盜版\")return 1;if(b.exists===\"盜版\")return-1;return 0;});//console.log(sortedArray);\nsetCurrent(sortedArray);setSearchResults(sortedArray);setLoading(false);}catch(error){console.error(error);}}else{message.info(t('您並非管理者'));window.location.replace('/');}}catch(error){console.error(error);}};initialData();},[]);useEffect(()=>{if(window.innerWidth<=1200){setIsMobile(true);}},[]);const getCreatorStatus=status=>{const statusMap={0:'否',1:'是',2:'審核',3:'禁用'};return statusMap[status]||'否';};// 漫畫刪除 或 復原函數\nconst handleToggle=async(comicHash,exists,creator)=>{disableAllButtons();if(exists===2){// 漫畫是盜版\ntry{const response=await axios.get(\"\".concat(website,\"/api/comicManagement/totalCost\"),{headers:headers,params:{comicHash:comicHash}});const totalCost=web3Instance.utils.toWei(response.data,'ether');let total=Number(web3Instance.utils.fromWei(totalCost,'ether'));let balance=await web3Instance.eth.getBalance(currentAccount);balance=parseInt(Number(web3Instance.utils.fromWei(balance,'ether'))*1000)/1000;if(total>balance){message.info(\"\".concat(t('餘額不足'),\"\\uFF0C\").concat(t('退款金額'),\"\\uFF1A\").concat(total,\"\\uFF0C\").concat(t('您持有餘額'),\"\\uFF1A\").concat(balance));return;}await meta.toggleComicExistence(comicHash,2).send({from:currentAccount,value:totalCost});await axios.put(\"\".concat(website,\"/api/update/comicExist\"),null,{headers:headers,params:{comicHash:comicHash,is_exist:2}});updateComics(searchResults,comicHash);updateArray(searchResults,comicHash);message.info(t('漫畫刪除成功'));const creatorAccount=account.find(account=>account.address===creator);if(creatorAccount.is_creator!==\"禁用\"){message.info(t('接著執行刪除創作者帳號'));await meta.removeCreator(creator).send({from:currentAccount});const response=await axios.put(\"\".concat(website,\"/api/update/userAccount\"),null,{headers:headers,params:{address:creator,state:3}});}window.location.reload();}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();handleHide();}}else if(exists===1){// 漫畫審核中\ntry{const response=await axios.get(\"\".concat(website,\"/api/comicManagement/totalCost\"),{headers:headers,params:{comicHash:comicHash}});//console.log(response.data);\nconst totalCost=web3Instance.utils.toWei(response.data,'ether');//console.log(totalCost);\nawait meta.toggleComicExistence(comicHash,1).send({from:currentAccount});await axios.put(\"\".concat(website,\"/api/update/comicExist\"),null,{headers:headers,params:{comicHash:comicHash,is_exist:1}});const updatedComics=searchResults.map(comic=>comic.hash===comicHash?{...comic,exists:'查核'}:comic);setSearchResults(updatedComics);message.info(t('漫畫查核中'));const updatedArray=storedArray.map(item=>item.comic_id===comicHash?{...item,is_exist:1}:item);const updatedArrayJSON=JSON.stringify(updatedArray);localStorage.setItem('comicDatas',updatedArrayJSON);}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();handleHide();}}else{// 漫畫存在\ntry{await meta.toggleComicExistence(comicHash,0).send({from:currentAccount});await axios.put(\"\".concat(website,\"/api/update/comicExist\"),null,{headers:headers,params:{comicHash:comicHash,is_exist:0}});const updatedComics=searchResults.map(comic=>comic.hash===comicHash?{...comic,exists:'刪除'}:comic);setSearchResults(updatedComics);message.info(t('漫畫復原成功'));const updatedArray=storedArray.map(item=>item.comic_id===comicHash?{...item,is_exist:0}:item);const updatedArrayJSON=JSON.stringify(updatedArray);localStorage.setItem('comicDatas',updatedArrayJSON);}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();handleHide();}}};const updateComics=(searchResults,comicHash)=>{const targetComic=searchResults.find(comic=>comic.hash===comicHash);const targetAuthor=targetComic.author;const updatedComics=searchResults.map(comic=>{if(comic.hash===comicHash){return{...comic,exists:'盜版'};}if(comic.author===targetAuthor){return{...comic,exists:'查核'};}return comic;});setSearchResults(updatedComics);};const updateArray=(searchResults,comicHash)=>{const targetComic=searchResults.find(comic=>comic.hash===comicHash);const targetAuthor=targetComic.author;const updatedArray=searchResults.map(comic=>{if(comic.hash===comicHash){return{...comic,exists:2};}if(comic.author===targetAuthor){return{...comic,exists:1};}return comic;});const updatedArrayJSON=JSON.stringify(updatedArray);localStorage.setItem('comicDatas',updatedArrayJSON);};const handleShow=function(data){let isConfirm=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;setModalState({show:true,isConfirm,action:isConfirm?'delete':null,data});};const handleHide=()=>setModalState(prevState=>({...prevState,show:false}));const handleConfirm=()=>{if(modalState.data&&modalState.action==='delete'){handleToggle(modalState.data.hash,2,modalState.data.author);}else if(modalState.data&&modalState.action==='review'){handleToggle(modalState.data.hash,1);}};const renderButtons=()=>{if(!modalState.data)return null;const{exists,hash,creator}=modalState.data;switch(exists){case'刪除':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"mt-3 del-btn\",onClick:()=>handleShow(modalState.data,true),children:t('刪除')}),/*#__PURE__*/_jsx(Button,{className:\"mt-3 war-btn\",onClick:()=>handleToggle(hash,1),children:t('待查核')})]});case'查核':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"mt-3 return-btn\",onClick:()=>handleToggle(hash,0),children:t('復原')}),/*#__PURE__*/_jsx(Button,{className:\"mt-3 del-btn\",onClick:()=>handleShow(modalState.data,true),children:t('刪除')})]});default:return null;}};const handleInputChange=event=>{setInputValue(event.target.value);};const handleSearchChange=event=>{setSearchTerm(event.target.value);};const withdrawFees=async()=>{if(withdrawRef.current.value>0){try{disableAllButtons();let total=await meta.getContractBalance().call({from:currentAccount});total=parseInt(Number(web3Instance.utils.fromWei(total,'ether'))*1000)/1000;if(withdrawRef.current.value>total){message.info(\"\".concat(t('可提領金額'),\"\\uFF1A\").concat(total,\"\\uFF0C\").concat(t('您以超過')));return;}let price=web3Instance.utils.toWei(withdrawRef.current.value,'ether');await meta.withdrawFees(price).send({from:currentAccount});message.info(\"$ \".concat(withdrawRef.current.value,\" ETH \").concat(t('提款成功')));}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();withdrawHide();}}else{message.info(t('請輸入提款金額'));};};const withdrawHide=()=>{setWithdrawState(false);if(withdrawRef.current){withdrawRef.current.value='';}};const addAdmin=async()=>{disableAllButtons();let address=web3Instance.utils.isAddress(inputValue);if(!address){message.info(t('請輸入有效的帳號'));enableAllButtons();return;}try{const admins=admin.some(adminItem=>adminItem===inputValue);if(admins==true){message.info(t('此帳號已是管理者'));}else{await meta.addAdmin(inputValue).send({from:currentAccount});const response=await axios.put(\"\".concat(website,\"/api/update/addAdmin\"),null,{headers:headers,params:{address:inputValue}});message.info(t('管理者新增成功'));window.location.reload();}}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();}};const removeAdmin=async address=>{disableAllButtons();const admins=admin.some(adminItem=>adminItem===address);try{let admins=await meta.admins(address).call();if(admins==false){message.info(t('此帳號並非管理者，所以不用刪除'));}else{await meta.removeAdmin(address).send({from:currentAccount});const response=await axios.put(\"\".concat(website,\"/api/update/removeAdmin\"),null,{headers:headers,params:{address:address}});message.info(t('管理者刪除成功'));window.location.reload();}}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();}};const handleSearchSubmit=async event=>{event.preventDefault();if(searchTerm.trim()===''){setSearchResults(current);return;}const results=current.filter(item=>item.title.includes(searchTerm)||item.penName.includes(searchTerm)||item.author.includes(searchTerm.toLowerCase())||item.hash.includes(searchTerm));setSearchResults(results);};const handleRowClick=index=>{if(isMobile){setSelectedIndex(selectedIndex===index?null:index);}};const accountChange=async(address,state)=>{disableAllButtons();if(state==='否'||state==='禁用'){enableAllButtons();return;}else if(state==='審核'){try{await meta.addCreator(address).send({from:currentAccount});const response=await axios.put(\"\".concat(website,\"/api/update/userAccount\"),null,{headers:headers,params:{address:address,state:1}});message.info(t('創作者驗證成功'));window.location.reload();}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}}else if(state==='是'){setShowUser(true);setDeleteUser(address);}enableAllButtons();};const getButtonClass=state=>{switch(state){case'否':return'cancel-btn';// 灰色\ncase'禁用':return'del-btn';// 深灰色\ncase'審核':return'war-btn';// 黃色\ncase'是':return'pri-btn';// 綠色\n}};const handleClose=()=>{setShowUser(false);setDeleteUser(null);};const userDeleteConfirm=async()=>{if(deleteUser!==null){try{disableAllButtons();await meta.removeCreator(deleteUser).send({from:currentAccount});const response=await axios.put(\"\".concat(website,\"/api/update/userAccount\"),null,{headers:headers,params:{address:deleteUser,state:3}});message.info(t('創作者已刪除'));window.location.reload();}catch(error){if(error.message.includes('User denied transaction signature')){message.info(t('拒绝交易'));}else{alert(error);}}finally{enableAllButtons();setShowUser(false);setDeleteUser(null);}}};const userSearchSubmit=async event=>{event.preventDefault();if(userSearchTerm.trim()===''){setUserSearchResults(account);return;}const results=account.filter(item=>item.address.includes(userSearchTerm.toLowerCase())||item.penName&&item.penName.includes(userSearchTerm));setUserSearchResults(results);};const userSearchChange=event=>{setUserSearchTerm(event.target.value);};const renderTooltip=msg=>props=>/*#__PURE__*/_jsx(Tooltip,{id:\"button-tooltip\",...props,children:msg});const disableAllButtons=()=>{const buttons=document.querySelectorAll(\".btn\");buttons.forEach(button=>{button.disabled=true;});};const enableAllButtons=()=>{const buttons=document.querySelectorAll(\".btn\");buttons.forEach(button=>{button.disabled=false;});};const showAccount=account=>{const prefix=account.substr(0,5);const suffix=account.substr(36,40);return prefix+\"...\"+suffix;};return/*#__PURE__*/_jsxs(_Fragment,{children:[!loading&&/*#__PURE__*/_jsx(Container,{className:\"comicManagement mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"admin\",id:\"tabs\",className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Tab,{eventKey:\"admin\",title:t('管理員'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-title mb-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"b\",{children:t('合約提款')})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{onClick:()=>setWithdrawState(true),className:\"add-btn\",variant:\"outline-danger\",\"data-backgroundcolor\":\"#0FC2C0\",children:[/*#__PURE__*/_jsx(PlusLg,{title:\"Add\",size:24}),\" \",t('提款')]})})]}),/*#__PURE__*/_jsxs(Modal,{show:withdrawState,onHide:withdrawHide,dialogClassName:\"custom-modal-content\",children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:t('平台提款')})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:t('請輸入價格')}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:t('請輸入價格'),min:\"0.001\",step:\"0.001\",ref:withdrawRef})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"custom-modal-footer\",children:[/*#__PURE__*/_jsx(Button,{className:\"pri-btn mt-3\",onClick:withdrawFees,children:t('確定')}),/*#__PURE__*/_jsx(Button,{className:\"cancel-btn mt-3\",onClick:withdrawHide,children:t('取消')})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-title mt-3 mb-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"b\",{children:t('帳號管理')})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{onClick:addAdmin,className:\"add-btn\",variant:\"outline-danger\",\"data-backgroundcolor\":\"#0FC2C0\",children:[/*#__PURE__*/_jsx(PlusLg,{title:\"Add\",size:24}),\" \",t('新增管理員')]})})]}),/*#__PURE__*/_jsx(Form,{className:\"d-flex mb-3\",children:/*#__PURE__*/_jsx(InputGroup,{children:/*#__PURE__*/_jsx(FormControl,{placeholder:t('請輸入管理員帳號'),\"aria-label\":\"Search\",\"aria-describedby\":\"basic-addon2\",onChange:handleInputChange})})}),/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:t('帳號')}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:admin.map((data,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('帳號'),className:\"address-cell\",children:data}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('狀態'),className:\"text-end\",children:/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(t('刪除管理者帳號')),children:/*#__PURE__*/_jsxs(Button,{onClick:()=>removeAdmin(data),className:\"del-btn\",variant:\"outline-danger\",\"data-backgroundcolor\":\"#0FC2C0\",children:[/*#__PURE__*/_jsx(TrashFill,{title:\"Delete\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"del-text\",children:t('刪除')})]})})})]},index))})]})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"comic\",title:t('漫畫'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-title mb-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"b\",{children:t('管理漫畫')})}),/*#__PURE__*/_jsx(Search,{onClick:handleSearchSubmit,className:\"comicManagement-search\"})]}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSearchSubmit,className:\"d-flex mb-3\",children:/*#__PURE__*/_jsx(InputGroup,{children:/*#__PURE__*/_jsx(FormControl,{placeholder:t('請輸入漫畫名或作者名'),\"aria-label\":\"Search\",\"aria-describedby\":\"basic-addon2\",value:searchTerm,onChange:handleSearchChange})})}),/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:t('漫畫')}),/*#__PURE__*/_jsx(\"th\",{children:t('作者')}),!isMobile&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"th\",{children:t('漫畫Hash')})}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:searchResults.map((data,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleRowClick(index),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{\"data-label\":\"ID\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('漫畫'),children:data.title}),!isMobile?/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t('作者'),className:\"address-cell\",children:[data.penName,\"(\",data.author,\")\"]}):/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t('作者'),className:\"address-cell\",children:[data.penName,\"\\uFF08\",showAccount(data.author),\"\\uFF09\"]}),!isMobile&&/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('漫畫Hash'),children:data.hash}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t('狀態'),className:\"text-end\",children:[/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(data.exists!=='盜版'?t('修改漫畫存續狀態'):\"\".concat(t('盜版漫畫已下架'),\"\\u3001\").concat(t('已退款'))),children:/*#__PURE__*/_jsx(Button,{onClick:()=>handleShow(data),className:\"btn \".concat(data.exists==='刪除'?'del-btn':data.exists==='查核'?'war-btn':data.exists==='盜版'?'piracy':''),variant:\"outline-danger\",\"data-backgroundcolor\":\"#0FC2C0\",disabled:data.exists==='盜版',children:t(data.exists)})}),/*#__PURE__*/_jsxs(Modal,{show:modalState.show,onHide:handleHide,dialogClassName:\"custom-modal-content\",children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:modalState.isConfirm?t('確定是盜版'):t('漫畫狀態')})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[!modalState.isConfirm&&modalState.data&&/*#__PURE__*/_jsx(Form.Label,{style:{fontSize:\"18px\"},children:modalState.data.title}),modalState.isConfirm?/*#__PURE__*/_jsx(Form.Label,{children:t('漫畫確定是盜版，刪除後將無法復原，並進行退款和禁用創作者帳號。')}):renderButtons()]}),/*#__PURE__*/_jsx(Modal.Footer,{className:\"custom-modal-footer\",children:modalState.isConfirm?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"pri-btn\",onClick:handleConfirm,children:t('確定')}),/*#__PURE__*/_jsx(Button,{className:\"cancel-btn\",onClick:handleHide,children:t('取消')})]}):/*#__PURE__*/_jsx(Button,{className:\"mt-3 cancel-btn\",onClick:handleHide,children:t('取消')})})]})]})]}),isMobile&&selectedIndex===index&&/*#__PURE__*/_jsxs(\"tr\",{className:\"hash-cell expanded\",children:[/*#__PURE__*/_jsx(\"td\",{style:{width:\"1%\"}}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"1%\"}}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hash-cell-text\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('漫畫Hash'),\":\"]}),\" \",data.hash]})})]})]},index))})]})]}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"isCreator\",title:t('使用者'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-title mb-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"b\",{children:t('使用者帳號管理')})}),/*#__PURE__*/_jsx(Search,{onClick:userSearchSubmit,className:\"comicManagement-search\"})]}),/*#__PURE__*/_jsx(Form,{onSubmit:userSearchSubmit,className:\"d-flex mb-3\",children:/*#__PURE__*/_jsx(InputGroup,{children:/*#__PURE__*/_jsx(FormControl,{placeholder:t('請輸入筆名或帳號'),\"aria-label\":\"Search\",\"aria-describedby\":\"basic-addon2\",value:userSearchTerm,onChange:userSearchChange})})}),/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:t('帳號')}),/*#__PURE__*/_jsxs(\"th\",{children:[t('啟用日'),\" / \",t('禁用日')]}),/*#__PURE__*/_jsx(\"th\",{children:t('申請日')}),/*#__PURE__*/_jsx(\"th\",{children:t('審核通過')}),/*#__PURE__*/_jsx(\"th\",{children:t('身分狀態')}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[userSearchResults.map((data,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{\"data-label\":t('編號')}),/*#__PURE__*/_jsx(\"th\",{\"data-label\":t('編號'),children:index+1}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('帳號'),className:\"address-cell\",children:!isMobile?\"\".concat(data.penName,\"\\uFF08\").concat(data.address,\"\\uFF09\"):\"\".concat(data.penName,\"\\uFF08\").concat(showAccount(data.address),\"\\uFF09\")}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('啟用日')+' / '+t('禁用日'),style:{color:data.is_creator===\"禁用\"?'red':'inherit'},children:data.is_creator===\"禁用\"?data.disabled:data.enable}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('申請日'),children:data.applied}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":t('審核通過'),children:data.approved}),/*#__PURE__*/_jsxs(\"td\",{\"data-label\":t('身分狀態'),children:[data.is_creator==='否'&&t('一般使用者'),data.is_creator==='是'&&t('創作者'),data.is_creator==='審核'&&t('待審核'),data.is_creator==='禁用'&&t('禁用中')]}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-end\",children:[data.is_creator==='否'&&/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(t('非創作者')),children:/*#__PURE__*/_jsx(Button,{className:\"disabled-btn\",disabled:true,children:t('非創作者')})}),data.is_creator==='禁用'&&/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(t('創作者權限已禁用')),children:/*#__PURE__*/_jsx(Button,{className:\"disabled-btn\",disabled:true// 禁用按鈕\n,children:t('禁用中')})}),data.is_creator==='是'&&/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(t('禁用創作者')),children:/*#__PURE__*/_jsx(Button,{onClick:()=>accountChange(data.address,data.is_creator),className:\"del-btn\",\"data-backgroundcolor\":\"#0FC2C0\",children:t('刪除')})}),data.is_creator==='審核'&&/*#__PURE__*/_jsx(OverlayTrigger,{placement:\"top\",overlay:renderTooltip(t('審核創作者申請')),children:/*#__PURE__*/_jsx(Button,{onClick:()=>accountChange(data.address,data.is_creator),className:\"war-btn\",children:t('審核')})})]})]},index)),showUser&&/*#__PURE__*/_jsxs(Modal,{show:showUser,onHide:handleClose,dialogClassName:\"custom-modal-content\",children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"h3\",{children:t('禁用創作者帳號')})}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"custom-modal-footer\",children:[/*#__PURE__*/_jsx(Button,{className:\"pri-btn\",onClick:userDeleteConfirm,children:t('確定')}),/*#__PURE__*/_jsx(Button,{className:\"cancel-btn\",onClick:handleClose,children:t('取消')})]})]})]})]})]})]})})}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{children:t('頁面加載中')})})]});};export default ComicManagement;","map":{"version":3,"names":["React","useState","useEffect","useRef","Web3","comicData","Container","Table","Button","Form","Tabs","Tab","InputGroup","FormControl","Modal","Tooltip","OverlayTrigger","PlusLg","TrashFill","Search","formatDate","message","useTranslation","i18n","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","website","process","env","REACT_APP_Website","API_KEY","REACT_APP_API_KEY","ComicManagement","_ref","contractAddress","storedArrayJSON","localStorage","getItem","currentAccount","storedArray","setStoredArray","meta","setMeta","current","setCurrent","admin","setAdmin","account","setAccount","withdrawState","setWithdrawState","withdrawRef","inputValue","setInputValue","searchTerm","setSearchTerm","searchResults","setSearchResults","selectedIndex","setSelectedIndex","isMobile","setIsMobile","web3Instance","setWeb3Instance","showUser","setShowUser","deleteUser","setDeleteUser","userSearchTerm","setUserSearchTerm","userSearchResults","setUserSearchResults","modalState","setModalState","show","isConfirm","action","data","loading","setLoading","t","headers","statusMap","modifiedArray","initialData","response","get","concat","params","isAdmin","exists","window","ethereum","request","method","contractInstance","eth","Contract","abi","address","methods","adminAddresses","filter","user","is_admin","map","length","addresses","is_creator","getCreatorStatus","penName","enable","date","Date","applied","approved","disabled","sort","a","b","JSON","parse","i","status","is_exist","push","title","author","creator","hash","comic_id","sortedArray","error","console","info","location","replace","innerWidth","handleToggle","comicHash","disableAllButtons","totalCost","utils","toWei","total","Number","fromWei","balance","getBalance","parseInt","toggleComicExistence","send","from","value","put","updateComics","updateArray","creatorAccount","find","removeCreator","state","reload","includes","alert","enableAllButtons","handleHide","updatedComics","comic","updatedArray","item","updatedArrayJSON","stringify","setItem","targetComic","targetAuthor","handleShow","arguments","undefined","prevState","handleConfirm","renderButtons","children","className","onClick","handleInputChange","event","target","handleSearchChange","withdrawFees","getContractBalance","call","price","withdrawHide","addAdmin","isAddress","admins","some","adminItem","removeAdmin","handleSearchSubmit","preventDefault","trim","results","toLowerCase","handleRowClick","index","accountChange","addCreator","getButtonClass","handleClose","userDeleteConfirm","userSearchSubmit","userSearchChange","renderTooltip","msg","props","id","buttons","document","querySelectorAll","forEach","button","showAccount","prefix","substr","suffix","defaultActiveKey","eventKey","variant","size","onHide","dialogClassName","Header","Title","Body","Group","Label","Control","type","placeholder","min","step","ref","Footer","onChange","striped","hover","placement","overlay","onSubmit","style","cursor","fontSize","width","colSpan","color"],"sources":["C:/Users/user1/Desktop/blockchain-comics-platform/frontend/src/routes/comicManagement.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport Web3 from 'web3';\r\nimport comicData from '../contracts/ComicPlatform.json';\r\nimport {  Container, Table, Button, Form, Tabs, Tab, InputGroup, FormControl, Modal, Tooltip, OverlayTrigger} from 'react-bootstrap';\r\nimport { PlusLg, TrashFill, Search } from 'react-bootstrap-icons';\r\nimport { formatDate } from '../index';\r\nimport { message } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../i18n';\r\nimport axios from 'axios';\r\nconst website = process.env.REACT_APP_Website;\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst ComicManagement = ({ contractAddress }) => {\r\n  const storedArrayJSON = localStorage.getItem('comicDatas');\r\n  const currentAccount = localStorage.getItem(\"currentAccount\");\r\n  const [storedArray, setStoredArray] = useState([]);\r\n  const [meta, setMeta] = useState('');\r\n  const [current, setCurrent] = useState([]);\r\n  const [admin, setAdmin] = useState(false);\r\n  const [account, setAccount] = useState([]);\r\n  const [withdrawState, setWithdrawState] = useState(false);\r\n  const withdrawRef = useRef('');\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [selectedIndex, setSelectedIndex] = useState(null);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [web3Instance, setWeb3Instance] = useState('');\r\n  const [showUser, setShowUser] = useState(false);\r\n  const [deleteUser, setDeleteUser] = useState('');\r\n  const [userSearchTerm, setUserSearchTerm] = useState('');\r\n  const [userSearchResults, setUserSearchResults] = useState([]);\r\n  const [modalState, setModalState] = useState({\r\n    show: false,\r\n    isConfirm: false,\r\n    action: null,\r\n    data: null\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const { t } = useTranslation();\r\n  const headers = {'api-key': API_KEY};\r\n  const statusMap = {\r\n    0: '刪除',\r\n    1: '查核',\r\n    2: '盜版'\r\n  };\r\n  let modifiedArray = [];\r\n\r\n  useEffect(() => {\r\n    const initialData = async () => {\r\n      try {\r\n        const response = await axios.get(`${website}/api/comicManagement/isAdmin`, {\r\n          headers: headers,\r\n          params: {\r\n            currentAccount: currentAccount\r\n          }\r\n        });\r\n        let isAdmin = response.data;\r\n        if (isAdmin.exists === true) {\r\n          try {\r\n            await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n            const web3Instance = new Web3(window.ethereum);\r\n            setWeb3Instance(web3Instance);\r\n            const contractInstance = new web3Instance.eth.Contract(comicData.abi, comicData.address);\r\n            const meta = await contractInstance.methods;\r\n            setMeta(meta);\r\n\r\n            const adminAddresses = isAdmin.address\r\n                .filter(user => user.is_admin === 1)\r\n                .map(user => user.address);\r\n            if (adminAddresses.length > 0) {\r\n              setAdmin(adminAddresses);\r\n            }\r\n\r\n            const addresses = isAdmin.address\r\n            .map(user => ({\r\n              address: user.address,\r\n              is_creator: getCreatorStatus(user.is_creator),\r\n              penName: user.penName,\r\n              enable: user.date[0] ? formatDate(new Date(user.date[0])) : '-',  // 啟用日\r\n              applied: user.date[1] ? formatDate(new Date(user.date[1])) : '-',  // 申請日\r\n              approved: user.date[2] ? formatDate(new Date(user.date[2])) : '-',  // 審核通過日\r\n              disabled: user.date[3] ? formatDate(new Date(user.date[3])) : '-',  // 禁用日\r\n            }))\r\n            .sort((a, b) => {\r\n              if (a.is_creator === '審核') return -1;\r\n              if (b.is_creator === '審核') return 1;\r\n              return 0;\r\n            });\r\n            if (addresses.length > 0) {\r\n              setAccount(addresses);\r\n              setUserSearchResults(addresses);\r\n            }\r\n\r\n            let storedArray = JSON.parse(storedArrayJSON);\r\n            setStoredArray(storedArray);\r\n            for (let i = 0; i < storedArray.length; i++) {\r\n              const status = statusMap[storedArray[i].is_exist];\r\n              modifiedArray.push({\r\n                title: storedArray[i].title,\r\n                penName: storedArray[i].penName,\r\n                author: storedArray[i].creator,\r\n                hash: storedArray[i].comic_id,\r\n                exists: status\r\n              });\r\n            }\r\n            const sortedArray = modifiedArray.sort((a, b) => {\r\n              if (a.exists === \"查核\") return -1;\r\n              if (b.exists === \"查核\") return 1;\r\n              if (a.exists === \"盜版\") return 1;\r\n              if (b.exists === \"盜版\") return -1;\r\n              return 0;\r\n            });\r\n            //console.log(sortedArray);\r\n            setCurrent(sortedArray);\r\n            setSearchResults(sortedArray);\r\n            setLoading(false);\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n        } else {\r\n          message.info(t('您並非管理者'));\r\n          window.location.replace('/');         \r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    initialData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth <= 1200) {\r\n      setIsMobile(true);\r\n    }\r\n  }, []);\r\n\r\n  const getCreatorStatus = (status) => {\r\n    const statusMap = {\r\n      0: '否',\r\n      1: '是',\r\n      2: '審核',\r\n      3: '禁用'\r\n    };\r\n    return statusMap[status] || '否';\r\n  };\r\n\r\n  // 漫畫刪除 或 復原函數\r\n  const handleToggle = async (comicHash, exists, creator) => {\r\n    disableAllButtons();\r\n    if (exists === 2) {  // 漫畫是盜版\r\n      try{\r\n        const response = await axios.get(`${website}/api/comicManagement/totalCost`, {\r\n          headers: headers,\r\n          params: {\r\n            comicHash: comicHash\r\n          }\r\n        });\r\n        const totalCost = web3Instance.utils.toWei(response.data, 'ether');\r\n        let total = Number(web3Instance.utils.fromWei(totalCost, 'ether'));\r\n        let balance = await web3Instance.eth.getBalance(currentAccount);\r\n        balance = parseInt(Number(web3Instance.utils.fromWei(balance, 'ether')) * 1000) / 1000;\r\n        if (total > balance) {\r\n          message.info(`${t('餘額不足')}，${t('退款金額')}：${total}，${t('您持有餘額')}：${balance}`);\r\n          return;\r\n        }\r\n        await meta.toggleComicExistence(comicHash, 2).send({ from: currentAccount, value: totalCost });\r\n        await axios.put(`${website}/api/update/comicExist`, null, {\r\n          headers: headers,\r\n          params: {\r\n            comicHash: comicHash,\r\n            is_exist: 2\r\n          },\r\n        });\r\n        updateComics(searchResults, comicHash);\r\n        updateArray(searchResults, comicHash);\r\n        message.info(t('漫畫刪除成功'));\r\n\r\n        const creatorAccount = account.find(account => account.address === creator);\r\n        \r\n        if (creatorAccount.is_creator !== \"禁用\") {\r\n          message.info(t('接著執行刪除創作者帳號'));\r\n          await meta.removeCreator(creator).send({from: currentAccount});\r\n        \r\n          const response = await axios.put(`${website}/api/update/userAccount`, null, {\r\n            headers: headers,\r\n            params: {\r\n              address: creator,\r\n              state: 3\r\n            },\r\n          });\r\n        }\r\n        window.location.reload();\r\n      } catch (error) {\r\n        if (error.message.includes('User denied transaction signature')) {\r\n          message.info(t('拒绝交易'));\r\n        } else {\r\n          alert(error);\r\n        }\r\n      } finally {\r\n        enableAllButtons();\r\n        handleHide();\r\n      }\r\n    } else if (exists === 1) {  // 漫畫審核中\r\n        try{\r\n          const response = await axios.get(`${website}/api/comicManagement/totalCost`, {\r\n            headers: headers,\r\n            params: {\r\n              comicHash: comicHash\r\n            }\r\n          });\r\n          //console.log(response.data);\r\n          const totalCost = web3Instance.utils.toWei(response.data, 'ether');\r\n          //console.log(totalCost);\r\n\r\n          await meta.toggleComicExistence(comicHash, 1).send({ from: currentAccount });\r\n          await axios.put(`${website}/api/update/comicExist`, null, {\r\n            headers: headers,\r\n            params: {\r\n              comicHash: comicHash,\r\n              is_exist: 1\r\n            },\r\n          });\r\n          const updatedComics = searchResults.map(comic =>\r\n            comic.hash === comicHash\r\n              ? { ...comic, exists: '查核' }\r\n              : comic\r\n          );\r\n          setSearchResults(updatedComics);\r\n          message.info(t('漫畫查核中'));\r\n          const updatedArray = storedArray.map(item =>\r\n            item.comic_id === comicHash\r\n              ? { ...item, is_exist: 1 }\r\n              : item\r\n          );\r\n          const updatedArrayJSON = JSON.stringify(updatedArray);\r\n          localStorage.setItem('comicDatas', updatedArrayJSON);\r\n        } catch (error) {\r\n          if (error.message.includes('User denied transaction signature')) {\r\n            message.info(t('拒绝交易'));\r\n          } else {\r\n            alert(error);\r\n          }\r\n        } finally {\r\n          enableAllButtons();\r\n          handleHide();\r\n        }\r\n    } else {  // 漫畫存在\r\n      try{\r\n        await meta.toggleComicExistence(comicHash, 0).send({ from: currentAccount });\r\n        await axios.put(`${website}/api/update/comicExist`, null, {\r\n          headers: headers,\r\n          params: {\r\n            comicHash: comicHash,\r\n            is_exist: 0,\r\n          },\r\n        });\r\n        const updatedComics = searchResults.map(comic =>\r\n          comic.hash === comicHash\r\n            ? { ...comic, exists: '刪除' }\r\n            : comic\r\n        );\r\n        setSearchResults(updatedComics);\r\n        message.info(t('漫畫復原成功'));\r\n        const updatedArray = storedArray.map(item =>\r\n          item.comic_id === comicHash\r\n            ? { ...item, is_exist: 0 }\r\n            : item\r\n        );\r\n        const updatedArrayJSON = JSON.stringify(updatedArray);\r\n        localStorage.setItem('comicDatas', updatedArrayJSON);\r\n      } catch (error) {\r\n        if (error.message.includes('User denied transaction signature')) {\r\n          message.info(t('拒绝交易'));\r\n        } else {\r\n          alert(error);\r\n        }\r\n      } finally {\r\n        enableAllButtons();\r\n        handleHide();\r\n      }\r\n    } \r\n  };\r\n\r\n  const updateComics = (searchResults, comicHash) => {\r\n    const targetComic = searchResults.find(comic => comic.hash === comicHash);\r\n    const targetAuthor = targetComic.author;\r\n    const updatedComics = searchResults.map(comic => {\r\n      if (comic.hash === comicHash) {\r\n        return { ...comic, exists: '盜版' };\r\n      }\r\n      if (comic.author === targetAuthor) {\r\n        return { ...comic, exists: '查核' };\r\n      }\r\n      return comic;\r\n    });\r\n    setSearchResults(updatedComics);\r\n  };\r\n\r\n  const updateArray = (searchResults, comicHash) => {\r\n    const targetComic = searchResults.find(comic => comic.hash === comicHash);\r\n    const targetAuthor = targetComic.author;\r\n    const updatedArray = searchResults.map(comic => {\r\n      if (comic.hash === comicHash) {\r\n        return { ...comic, exists: 2 };\r\n      }\r\n      if (comic.author === targetAuthor) {\r\n        return { ...comic, exists: 1 };\r\n      }\r\n      return comic;\r\n    });\r\n    const updatedArrayJSON = JSON.stringify(updatedArray);\r\n    localStorage.setItem('comicDatas', updatedArrayJSON);\r\n  };\r\n\r\n  const handleShow = (data, isConfirm = false) => {\r\n    setModalState({\r\n      show: true,\r\n      isConfirm,\r\n      action: isConfirm ? 'delete' : null,\r\n      data\r\n    });\r\n  };\r\n\r\n  const handleHide = () => setModalState(prevState => ({ ...prevState, show: false }));\r\n\r\n  const handleConfirm = () => {\r\n    if (modalState.data && modalState.action === 'delete') {\r\n      handleToggle(modalState.data.hash, 2, modalState.data.author);\r\n    } else if (modalState.data && modalState.action === 'review') {\r\n      handleToggle(modalState.data.hash, 1);\r\n    }\r\n  };\r\n\r\n  const renderButtons = () => {\r\n    if (!modalState.data) return null;\r\n    const { exists, hash, creator } = modalState.data;\r\n    switch (exists) {\r\n      case '刪除':\r\n        return (\r\n          <>\r\n            <Button className=\"mt-3 del-btn\" onClick={() => handleShow(modalState.data, true)}>\r\n              {t('刪除')}\r\n            </Button>\r\n            <Button className=\"mt-3 war-btn\" onClick={() => handleToggle(hash, 1)}>\r\n              {t('待查核')}\r\n            </Button>\r\n          </>\r\n        );\r\n      case '查核':\r\n        return (\r\n          <>\r\n            <Button className=\"mt-3 return-btn\" onClick={() => handleToggle(hash, 0)}>\r\n              {t('復原')}\r\n            </Button>\r\n            <Button className=\"mt-3 del-btn\" onClick={() => handleShow(modalState.data, true)}>\r\n              {t('刪除')}\r\n            </Button>\r\n          </>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  \r\n  const handleInputChange = (event) => {\r\n    setInputValue(event.target.value);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const withdrawFees = async () => {\r\n    if (withdrawRef.current.value > 0) {\r\n      try{\r\n        disableAllButtons();\r\n        let total = await meta.getContractBalance().call({ from: currentAccount });\r\n        total = parseInt(Number(web3Instance.utils.fromWei(total, 'ether')) * 1000) / 1000;\r\n        if (withdrawRef.current.value > total) {\r\n          message.info(`${t('可提領金額')}：${total}，${t('您以超過')}`);\r\n          return;\r\n        }\r\n        let price = web3Instance.utils.toWei(withdrawRef.current.value, 'ether');\r\n        await meta.withdrawFees(price).send({ from: currentAccount });\r\n        message.info(`$ ${withdrawRef.current.value} ETH ${t('提款成功')}`);\r\n      } catch (error) {\r\n        if (error.message.includes('User denied transaction signature')) {\r\n          message.info(t('拒绝交易'));\r\n        } else {\r\n          alert(error);\r\n        }\r\n      } finally {\r\n        enableAllButtons();\r\n        withdrawHide();\r\n      }\r\n    } else {\r\n      message.info(t('請輸入提款金額'));\r\n    };\r\n  };\r\n\r\n  const withdrawHide = () => {\r\n    setWithdrawState(false);\r\n    if (withdrawRef.current) {\r\n      withdrawRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const addAdmin = async () => {\r\n    disableAllButtons();\r\n    let address = web3Instance.utils.isAddress(inputValue);\r\n    if (!address) {\r\n      message.info(t('請輸入有效的帳號'));\r\n      enableAllButtons();\r\n      return;\r\n    }\r\n    try{\r\n      const admins = admin.some(adminItem => adminItem === inputValue);\r\n      if (admins == true) {\r\n        message.info(t('此帳號已是管理者'));\r\n      } else {\r\n        await meta.addAdmin(inputValue).send({ from: currentAccount });\r\n        \r\n        const response = await axios.put(`${website}/api/update/addAdmin`, null, {\r\n          headers: headers,\r\n          params: {\r\n            address: inputValue,\r\n          },\r\n        });\r\n        message.info(t('管理者新增成功'));\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      if (error.message.includes('User denied transaction signature')) {\r\n        message.info(t('拒绝交易'));\r\n      } else {\r\n        alert(error);\r\n      }\r\n    } finally {\r\n      enableAllButtons();\r\n    }\r\n  };\r\n\r\n  const removeAdmin = async (address) => {\r\n    disableAllButtons();\r\n    const admins = admin.some(adminItem => adminItem === address);\r\n    try{\r\n      let admins = await meta.admins(address).call();\r\n      if (admins == false) {\r\n        message.info(t('此帳號並非管理者，所以不用刪除'));\r\n      } else {\r\n        await meta.removeAdmin(address).send({ from: currentAccount });\r\n\r\n        const response = await axios.put(`${website}/api/update/removeAdmin`, null, {\r\n          headers: headers,\r\n          params: {\r\n            address: address,\r\n          },\r\n        });\r\n        message.info(t('管理者刪除成功'));\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      if (error.message.includes('User denied transaction signature')) {\r\n        message.info(t('拒绝交易'));\r\n      } else {\r\n        alert(error);\r\n      }\r\n    } finally {\r\n      enableAllButtons();\r\n    }\r\n  };\r\n\r\n  const handleSearchSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (searchTerm.trim() === '') {\r\n      setSearchResults(current);\r\n      return;\r\n    }\r\n    const results = current.filter(item => \r\n      item.title.includes(searchTerm) ||\r\n      item.penName.includes(searchTerm) ||\r\n      item.author.includes(searchTerm.toLowerCase()) ||\r\n      item.hash.includes(searchTerm)\r\n    );\r\n    setSearchResults(results);\r\n  };\r\n\r\n  const handleRowClick = (index) => {\r\n    if (isMobile) {\r\n      setSelectedIndex(selectedIndex === index ? null : index);\r\n    }\r\n  };\r\n\r\n  \r\n  const accountChange = async (address, state) => {\r\n    disableAllButtons();\r\n    if (state === '否' || state === '禁用') {\r\n      enableAllButtons();\r\n      return;\r\n    } else if (state === '審核') {\r\n      try{\r\n        await meta.addCreator(address).send({from: currentAccount});\r\n        \r\n        const response = await axios.put(`${website}/api/update/userAccount`, null, {\r\n          headers: headers,\r\n          params: {\r\n            address: address,\r\n            state: 1\r\n          },\r\n        });\r\n        message.info(t('創作者驗證成功'));\r\n        window.location.reload();\r\n      } catch (error) {\r\n        if (error.message.includes('User denied transaction signature')) {\r\n          message.info(t('拒绝交易'));\r\n        } else {\r\n          alert(error);\r\n        }\r\n      }\r\n    } else if (state === '是') {\r\n      setShowUser(true);\r\n      setDeleteUser(address);\r\n    }\r\n    enableAllButtons();\r\n  };\r\n\r\n\r\n  const getButtonClass = (state) => {\r\n    switch (state) {\r\n      case '否':\r\n        return 'cancel-btn'; // 灰色\r\n      case '禁用':\r\n        return 'del-btn'; // 深灰色\r\n      case '審核':\r\n        return 'war-btn'; // 黃色\r\n      case '是':\r\n        return 'pri-btn'; // 綠色\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShowUser(false);\r\n    setDeleteUser(null);\r\n  };\r\n\r\n  const userDeleteConfirm = async () => {\r\n    if (deleteUser !== null) {\r\n      try{\r\n        disableAllButtons();\r\n        await meta.removeCreator(deleteUser).send({from: currentAccount});\r\n        \r\n        const response = await axios.put(`${website}/api/update/userAccount`, null, {\r\n          headers: headers,\r\n          params: {\r\n            address: deleteUser,\r\n            state: 3\r\n          },\r\n        });\r\n        message.info(t('創作者已刪除'));\r\n        window.location.reload();\r\n      } catch (error) {\r\n        if (error.message.includes('User denied transaction signature')) {\r\n          message.info(t('拒绝交易'));\r\n        } else {\r\n          alert(error);\r\n        }\r\n      } finally {\r\n        enableAllButtons();\r\n        setShowUser(false);\r\n        setDeleteUser(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const userSearchSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (userSearchTerm.trim() === '') {\r\n      setUserSearchResults(account);\r\n      return;\r\n    }\r\n    const results = account.filter(item => \r\n      item.address.includes(userSearchTerm.toLowerCase()) ||\r\n      (item.penName && item.penName.includes(userSearchTerm))\r\n    );\r\n    setUserSearchResults(results);\r\n  };\r\n\r\n  const userSearchChange = (event) => {\r\n    setUserSearchTerm(event.target.value);\r\n  };\r\n\r\n  const renderTooltip = (msg) => (props) => (\r\n    <Tooltip id=\"button-tooltip\" {...props}>\r\n      {msg}\r\n    </Tooltip>\r\n  );\r\n\r\n  const disableAllButtons = () => {\r\n    const buttons = document.querySelectorAll(\".btn\");\r\n    buttons.forEach(button => {\r\n      button.disabled = true;\r\n    });\r\n  };\r\n  \r\n  const enableAllButtons = () => {\r\n    const buttons = document.querySelectorAll(\".btn\");\r\n    buttons.forEach(button => {\r\n      button.disabled = false;\r\n    });\r\n  };\r\n\r\n  const showAccount = (account) => {\r\n    const prefix = account.substr(0, 5);\r\n    const suffix = account.substr(36, 40);\r\n    return prefix + \"...\" + suffix;\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n    {!loading && (\r\n      <Container className=\"comicManagement mt-4\">\r\n        <div className=\"table-wrapper\">\r\n          <Tabs defaultActiveKey=\"admin\" id=\"tabs\" className=\"mb-3\">\r\n            <Tab eventKey=\"admin\" title={t('管理員')}>\r\n              <div className=\"table-title mb-3 d-flex justify-content-between align-items-center\">\r\n                <h2><b>{t('合約提款')}</b></h2>\r\n                <div>\r\n                  <Button onClick={() => setWithdrawState(true)} className='add-btn' variant=\"outline-danger\" data-backgroundcolor=\"#0FC2C0\">\r\n                    <PlusLg title=\"Add\" size={24}/> {t('提款')}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <Modal\r\n                show={withdrawState}\r\n                onHide={withdrawHide}\r\n                dialogClassName=\"custom-modal-content\"\r\n              >\r\n                <Modal.Header>\r\n                  <Modal.Title>{t('平台提款')}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                  <Form>\r\n                    <Form.Group>\r\n                      <Form.Label>{t('請輸入價格')}</Form.Label>\r\n                      <Form.Control\r\n                        type=\"number\"\r\n                        placeholder={t('請輸入價格')}\r\n                        min=\"0.001\"\r\n                        step=\"0.001\"\r\n                        ref={withdrawRef}\r\n                      />\r\n                    </Form.Group>\r\n                  </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer className=\"custom-modal-footer\">\r\n                  <Button className='pri-btn mt-3' onClick={withdrawFees}>\r\n                    {t('確定')}\r\n                  </Button>\r\n                  <Button className='cancel-btn mt-3' onClick={withdrawHide}>\r\n                    {t('取消')}\r\n                  </Button>\r\n                </Modal.Footer>\r\n              </Modal>\r\n              <hr />\r\n              <div className=\"table-title mt-3 mb-3 d-flex justify-content-between align-items-center\">\r\n                <h2><b>{t('帳號管理')}</b></h2>\r\n                <div>\r\n                  <Button onClick={addAdmin} className='add-btn' variant=\"outline-danger\" data-backgroundcolor=\"#0FC2C0\">\r\n                    <PlusLg title=\"Add\" size={24}/> {t('新增管理員')}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n              <Form className=\"d-flex mb-3\">\r\n                <InputGroup>\r\n                  <FormControl\r\n                    placeholder={t('請輸入管理員帳號')}\r\n                    aria-label=\"Search\"\r\n                    aria-describedby=\"basic-addon2\"\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </InputGroup>\r\n              </Form>\r\n              <Table striped hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>#</th>\r\n                    <th>{t('帳號')}</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {admin.map((data, index) => (\r\n                    <tr key={index}>\r\n                      <th></th>\r\n                      <th>{index + 1}</th>\r\n                      <td data-label={t('帳號')} className=\"address-cell\">{data}</td>\r\n                      <td data-label={t('狀態')} className=\"text-end\">\r\n                        <OverlayTrigger placement=\"top\" overlay={renderTooltip(t('刪除管理者帳號'))}>\r\n                          <Button onClick={() => removeAdmin(data)} className='del-btn' variant=\"outline-danger\" data-backgroundcolor=\"#0FC2C0\">\r\n                            <TrashFill title=\"Delete\" /> <span className=\"del-text\">{t('刪除')}</span>\r\n                          </Button>\r\n                        </OverlayTrigger>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Tab>\r\n            <Tab eventKey=\"comic\" title={t('漫畫')}>\r\n              <div className=\"table-title mb-3 d-flex justify-content-between align-items-center\">\r\n                <h2><b>{t('管理漫畫')}</b></h2>\r\n                <Search onClick={handleSearchSubmit} className=\"comicManagement-search\" />\r\n              </div>\r\n              <Form onSubmit={handleSearchSubmit} className=\"d-flex mb-3\">\r\n                  <InputGroup>\r\n                      <FormControl\r\n                          placeholder={t('請輸入漫畫名或作者名')}\r\n                          aria-label=\"Search\"\r\n                          aria-describedby=\"basic-addon2\"\r\n                          value={searchTerm}\r\n                          onChange={handleSearchChange}\r\n                      />\r\n                  </InputGroup>\r\n              </Form>\r\n              <Table striped hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>#</th>\r\n                    <th>{t('漫畫')}</th>\r\n                    <th>{t('作者')}</th>\r\n                    {!isMobile &&\r\n                      <td>\r\n                        <th>{t('漫畫Hash')}</th>\r\n                      </td>\r\n                    }\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {searchResults.map((data, index) => (\r\n                    <React.Fragment key={index}>\r\n                      <tr\r\n                        onClick={() => handleRowClick(index)}\r\n                        style={{ cursor: 'pointer' }}\r\n                      >\r\n                        <th></th>\r\n                        <th data-label=\"ID\">{index + 1}</th>\r\n                        <td data-label={t('漫畫')}>{data.title}</td>\r\n                        {!isMobile ? (\r\n                          <td data-label={t('作者')}  className=\"address-cell\">\r\n                            {data.penName}({data.author})\r\n                          </td>\r\n                        ) : (\r\n                          <td data-label={t('作者')}  className=\"address-cell\">\r\n                            {data.penName}（{showAccount(data.author)}）\r\n                          </td>\r\n                        )}\r\n                        {!isMobile &&\r\n                          <td data-label={t('漫畫Hash')}>\r\n                            {data.hash}\r\n                          </td>\r\n                        }\r\n                        <td data-label={t('狀態')} className=\"text-end\">\r\n                          <OverlayTrigger placement=\"top\" overlay={renderTooltip(data.exists !== '盜版' ? t('修改漫畫存續狀態') : `${t('盜版漫畫已下架')}、${t('已退款')}`)}>\r\n                            <Button\r\n                              onClick={() => handleShow(data)}\r\n                              className={`btn ${\r\n                                data.exists === '刪除' ? 'del-btn' :\r\n                                data.exists === '查核' ? 'war-btn' :\r\n                                data.exists === '盜版' ? 'piracy' : ''\r\n                              }`}\r\n                              variant=\"outline-danger\"\r\n                              data-backgroundcolor=\"#0FC2C0\"\r\n                              disabled={data.exists === '盜版'}\r\n                            >\r\n                              {t(data.exists)}\r\n                            </Button>\r\n                          </OverlayTrigger>\r\n                          <Modal\r\n                            show={modalState.show}\r\n                            onHide={handleHide}\r\n                            dialogClassName=\"custom-modal-content\"\r\n                          >\r\n                            <Modal.Header>\r\n                              <Modal.Title>{modalState.isConfirm ? t('確定是盜版') : t('漫畫狀態')}</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                              {!modalState.isConfirm && modalState.data && (\r\n                                <Form.Label style={{fontSize: \"18px\"}}>\r\n                                  {modalState.data.title}\r\n                                </Form.Label>\r\n                              )}\r\n                              {modalState.isConfirm ? (\r\n                                <Form.Label>{t('漫畫確定是盜版，刪除後將無法復原，並進行退款和禁用創作者帳號。')}</Form.Label>\r\n                              ) : (\r\n                                  renderButtons()\r\n                              )}\r\n                            </Modal.Body>\r\n                            <Modal.Footer className=\"custom-modal-footer\">\r\n                              {modalState.isConfirm ? (\r\n                                <>\r\n                                  <Button className='pri-btn' onClick={handleConfirm}>\r\n                                    {t('確定')}\r\n                                  </Button>\r\n                                  <Button className='cancel-btn' onClick={handleHide}>\r\n                                    {t('取消')}\r\n                                  </Button>\r\n                                </>\r\n                              ) : (\r\n                                <Button className=\"mt-3 cancel-btn\" onClick={handleHide}>\r\n                                  {t('取消')}\r\n                                </Button>\r\n                              )}\r\n                            </Modal.Footer>\r\n                          </Modal>\r\n                        </td>\r\n                      </tr>\r\n                      {/* Only shown on small screens when a row is selected */}\r\n                      {isMobile && selectedIndex === index && (\r\n                        <tr className=\"hash-cell expanded\">\r\n                          <td style={{ width: \"1%\" }}></td>\r\n                          <td style={{ width: \"1%\" }}></td>\r\n                          <td colSpan=\"3\">\r\n                            <div className=\"hash-cell-text\">\r\n                              <strong>{t('漫畫Hash')}:</strong> {data.hash}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </React.Fragment>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Tab>\r\n            <Tab eventKey=\"isCreator\" title={t('使用者')}>\r\n              <div className=\"table-title mb-3 d-flex justify-content-between align-items-center\">\r\n                <h2><b>{t('使用者帳號管理')}</b></h2>\r\n                <Search onClick={userSearchSubmit} className=\"comicManagement-search\" />\r\n              </div>\r\n              <Form onSubmit={userSearchSubmit} className=\"d-flex mb-3\">\r\n                <InputGroup>\r\n                    <FormControl\r\n                        placeholder={t('請輸入筆名或帳號')}\r\n                        aria-label=\"Search\"\r\n                        aria-describedby=\"basic-addon2\"\r\n                        value={userSearchTerm}\r\n                        onChange={userSearchChange}\r\n                    />\r\n                </InputGroup>\r\n              </Form>\r\n              <Table striped hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>#</th>\r\n                    <th>{t('帳號')}</th>\r\n                    <th>{t('啟用日')} / {t('禁用日')}</th>\r\n                    <th>{t('申請日')}</th>\r\n                    <th>{t('審核通過')}</th>\r\n                    <th>{t('身分狀態')}</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {userSearchResults.map((data, index) => (\r\n                    <tr key={index}>\r\n                      <th data-label={t('編號')}></th>\r\n                      <th data-label={t('編號')}>{index + 1}</th>\r\n                      <td data-label={t('帳號')} className=\"address-cell\">\r\n                        {!isMobile ? (\r\n                          `${data.penName}（${data.address}）`\r\n                        ) : (\r\n                          `${data.penName}（${showAccount(data.address)}）`\r\n                        )}\r\n                      </td>\r\n                      <td \r\n                        data-label={t('啟用日') + ' / ' + t('禁用日')}\r\n                        style={{ color: data.is_creator === \"禁用\" ? 'red' : 'inherit' }}  \r\n                      >\r\n                        {data.is_creator === \"禁用\" ? data.disabled : data.enable}\r\n                      </td>\r\n                      <td data-label={t('申請日')}>{data.applied}</td>\r\n                      <td data-label={t('審核通過')}>{data.approved}</td>\r\n                      <td data-label={t('身分狀態')}>\r\n                        {data.is_creator === '否' && t('一般使用者')}\r\n                        {data.is_creator === '是' && t('創作者')}\r\n                        {data.is_creator === '審核' && t('待審核')}\r\n                        {data.is_creator === '禁用' && t('禁用中')}\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        {data.is_creator === '否' && (\r\n                          <OverlayTrigger placement=\"top\" overlay={renderTooltip(t('非創作者'))}>\r\n                            <Button\r\n                              className=\"disabled-btn\"\r\n                              disabled \r\n                            >\r\n                              {t('非創作者')}\r\n                            </Button>\r\n                          </OverlayTrigger>\r\n                        )}\r\n\r\n                        {data.is_creator === '禁用' && (\r\n                          <OverlayTrigger placement=\"top\" overlay={renderTooltip(t('創作者權限已禁用'))}>\r\n                            <Button\r\n                              className=\"disabled-btn\"\r\n                              disabled // 禁用按鈕\r\n                            >\r\n                              {t('禁用中')}\r\n                            </Button>\r\n                          </OverlayTrigger>\r\n                        )}\r\n\r\n                        {data.is_creator === '是' && (\r\n                          <OverlayTrigger placement=\"top\" overlay={renderTooltip(t('禁用創作者'))}>\r\n                            <Button\r\n                              onClick={() => accountChange(data.address, data.is_creator)}\r\n                              className=\"del-btn\"\r\n                              data-backgroundcolor=\"#0FC2C0\"\r\n                            >\r\n                              {t('刪除')}\r\n                            </Button>\r\n                          </OverlayTrigger>\r\n                        )}\r\n\r\n                        {data.is_creator === '審核' && (\r\n                          <OverlayTrigger placement=\"top\" overlay={renderTooltip(t('審核創作者申請'))}>\r\n                            <Button\r\n                              onClick={() => accountChange(data.address, data.is_creator)}\r\n                              className=\"war-btn\"\r\n                            >\r\n                              {t('審核')}\r\n                            </Button>\r\n                          </OverlayTrigger>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  {showUser && (\r\n                    <Modal show={showUser} onHide={handleClose} dialogClassName=\"custom-modal-content\">\r\n                        <Modal.Body>\r\n                            <h3>{t('禁用創作者帳號')}</h3>\r\n                        </Modal.Body>\r\n                        <Modal.Footer className=\"custom-modal-footer\">\r\n                            <Button className='pri-btn' onClick={userDeleteConfirm}>\r\n                                {t('確定')}\r\n                            </Button>\r\n                            <Button className='cancel-btn' onClick={handleClose}>\r\n                                {t('取消')}\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                  )}\r\n                </tbody>\r\n              </Table>\r\n            </Tab>\r\n          </Tabs>\r\n        </div>\r\n      </Container>\r\n    )}\r\n    {loading && (\r\n        <div className=\"loading-container\">\r\n            <div>{t('頁面加載中')}</div>\r\n        </div>\r\n    )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ComicManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}