{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Web3 from'web3';import*as AiIcons from\"react-icons/ai\";import{Link,useNavigate}from\"react-router-dom\";import{SidebarData}from\"./SidebarData\";import{IconContext}from\"react-icons\";import'../App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=_ref=>{let{accounts,setAccounts}=_ref;const[isMetamaskInstalled,setMetamaskInstalled]=useState(true);const[isConnected,setConnected]=useState(false);const[isLogged,setIsLogged]=useState(false);const[currentAccount,setCurrentAccount]=useState(\"\");const[subMenuOpen,setSubMenuOpen]=useState(Array(SidebarData.length).fill(false));const[menuExpanded,setMenuExpanded]=useState(false);const[ethBalance,setEthBalance]=useState('');const[account,setAccount]=useState('');const navigate=useNavigate();useEffect(()=>{if(accounts.length>0){setIsLogged(true);loadAccountBalance(accounts[0]);}},[accounts]);const loadAccountBalance=async account=>{try{const provider=detectCurrentProvider();if(provider){const web3=new Web3(provider);const balance=await web3.eth.getBalance(account);setEthBalance(parseFloat(web3.utils.fromWei(balance,'ether')).toFixed(3));// 設定餘額只顯示到小數點第三位\n}}catch(error){console.error('錯誤:',error);}};const connectAccount=async()=>{if(isConnected===false){if(window.ethereum){const accounts=await window.ethereum.request({method:\"eth_requestAccounts\"});setAccounts(accounts);setAccount(accounts[0]);setCurrentAccount(accounts[0]);setConnected(true);setIsLogged(true);// 存储登录信息到本地存储\nlocalStorage.setItem(\"loggedIn\",\"true\");localStorage.setItem(\"currentAccount\",accounts[0]);alert(\"登入成功!\");navigate(\"/\");loadAccountBalance(accounts[0]);// 加载账号余额\n}}};const showAccount=()=>{if(isLogged&&account){// 確保已登入並有帳戶資訊\nconst prefix=account.substr(0,5);const suffix=account.substr(36,40);return prefix+\"...\"+suffix;}return\"No account\";};setTimeout(()=>{if(accounts&&accounts.length>0&&accounts[0]!==currentAccount){setCurrentAccount(accounts[0]);console.log(accounts[0]);}},100);const handleSubMenuClick=(index,event)=>{event.stopPropagation();setSubMenuOpen(prevState=>{const newState=Array(SidebarData.length).fill(false);// 先将所有子菜单关闭\nnewState[index]=true;// 再打开指定的子菜单\nreturn newState;});};const handleMenuItemClick=(index,event)=>{event.stopPropagation();if(SidebarData[index].subMenu){event.preventDefault();setSubMenuOpen(prevState=>{const newState=[...prevState];newState[index]=!newState[index];return newState;});}else{navigate(SidebarData[index].path);}};const handleDownMenuItemClick=(index,event)=>{event.stopPropagation();navigate(SidebarData[index].path);};const reloadAccount=async()=>{try{const provider=detectCurrentProvider();if(provider){await provider.request({method:'wallet_requestPermissions',params:[{eth_accounts:{}}]});const accounts=await provider.request({method:'eth_requestAccounts'});if(accounts&&accounts.length>0){const web3=new Web3(provider);const newAccount=accounts[0];console.log('切換後的帳戶: '+newAccount);setAccount(newAccount);localStorage.setItem(\"currentAccount\",newAccount);//將轉變後的帳戶丟回localStorage\nconst balance=await web3.eth.getBalance(newAccount);setEthBalance(parseFloat(web3.utils.fromWei(balance,'ether')).toFixed(3));// 設定餘額只顯示到小數點第三位\nsetIsLogged(true);// 刷新页面\nwindow.location.reload();}else{setIsLogged(false);}}}catch(error){console.error('錯誤:',error);}};useEffect(()=>{// 检查本地存储中是否存在登录信息\nconst loggedIn=localStorage.getItem(\"loggedIn\");const currentAccount=localStorage.getItem(\"currentAccount\");if(loggedIn===\"true\"&&currentAccount){setIsLogged(true);setAccount(currentAccount);setCurrentAccount(currentAccount);setConnected(true);loadAccountBalance(currentAccount);// 加载账号余额\n}},[]);const detectCurrentProvider=()=>{let provider;if(window.ethereum){provider=window.ethereum;}else if(window.web3){provider=window.web3.currentProvider;}else{console.log(\"偵測到非以太坊瀏覽器。請安裝 MetaMask 或其他支援的錢包\");}return provider;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(IconContext.Provider,{value:{color:\"undefined\"},children:/*#__PURE__*/_jsx(\"div\",{className:`navbar ${menuExpanded?\"menu-expanded\":\"\"}`,children:/*#__PURE__*/_jsxs(\"nav\",{className:menuExpanded?\"nav-menu expanded\":\"nav-menu\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"nav-menu-items\",children:SidebarData.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:`nav-item ${item.cName} ${subMenuOpen[index]?\"show-sub-menu\":\"\"}`,onMouseEnter:event=>handleSubMenuClick(index,event)// 修改为 onMouseEnter\n,onMouseLeave:()=>setSubMenuOpen(prevState=>{const newState=[...prevState];newState[index]=false;return newState;})// 添加 onMouseLeave\n,children:[/*#__PURE__*/_jsxs(Link,{to:item.path,children:[item.icon,/*#__PURE__*/_jsx(\"span\",{children:item.title}),item.subMenu&&/*#__PURE__*/_jsx(AiIcons.AiOutlineDown,{style:{marginLeft:\"auto\",marginRight:\"5px\"}})]}),item.subMenu&&subMenuOpen[index]&&/*#__PURE__*/_jsx(\"ul\",{className:\"dropdown-container\",children:item.subMenu.map((subItem,subIndex)=>/*#__PURE__*/_jsx(\"li\",{onClick:event=>handleDownMenuItemClick(index,event),children:/*#__PURE__*/_jsx(Link,{to:subItem.path,children:subItem.title})},subIndex))})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"log-in-area\",children:[!isLogged&&isMetamaskInstalled&&/*#__PURE__*/_jsx(\"button\",{className:\"log-in-btn\",onClick:connectAccount,children:\"\\u767B\\u5165\"}),!isMetamaskInstalled&&/*#__PURE__*/_jsx(\"a\",{className:\"install-link\",target:\"_blank\",rel:\"noreferrer\",href:\"https://metamask.io/download\",children:\"\\u8ACB\\u5B89\\u88DDMetamask\"}),isLogged&&/*#__PURE__*/_jsxs(\"div\",{className:\"log-in-area\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"show-account\",children:showAccount()}),/*#__PURE__*/_jsxs(\"div\",{className:\"eth-balance\",children:[\"\\u9918\\u984D: \",ethBalance,\" SepoliaETH\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"reload-btn\",onClick:reloadAccount,children:\"\\u5207\\u63DB\\u5E33\\u865F\"})]})]})]})})})});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Web3","AiIcons","Link","useNavigate","SidebarData","IconContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_ref","accounts","setAccounts","isMetamaskInstalled","setMetamaskInstalled","isConnected","setConnected","isLogged","setIsLogged","currentAccount","setCurrentAccount","subMenuOpen","setSubMenuOpen","Array","length","fill","menuExpanded","setMenuExpanded","ethBalance","setEthBalance","account","setAccount","navigate","loadAccountBalance","provider","detectCurrentProvider","web3","balance","eth","getBalance","parseFloat","utils","fromWei","toFixed","error","console","connectAccount","window","ethereum","request","method","localStorage","setItem","alert","showAccount","prefix","substr","suffix","setTimeout","log","handleSubMenuClick","index","event","stopPropagation","prevState","newState","handleMenuItemClick","subMenu","preventDefault","path","handleDownMenuItemClick","reloadAccount","params","eth_accounts","newAccount","location","reload","loggedIn","getItem","currentProvider","children","Provider","value","color","className","map","item","cName","onMouseEnter","onMouseLeave","to","icon","title","AiOutlineDown","style","marginLeft","marginRight","subItem","subIndex","onClick","target","rel","href"],"sources":["C:/Users/user1/Desktop/blockchain-comics-platform/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Web3 from 'web3';\r\nimport * as AiIcons from \"react-icons/ai\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport { IconContext } from \"react-icons\";\r\nimport '../App.css';\r\n\r\nconst Navbar = ({ accounts, setAccounts }) => {\r\n  const [isMetamaskInstalled, setMetamaskInstalled] = useState(true);\r\n  const [isConnected, setConnected] = useState(false);\r\n  const [isLogged, setIsLogged] = useState(false);\r\n  const [currentAccount, setCurrentAccount] = useState(\"\");\r\n  const [subMenuOpen, setSubMenuOpen] = useState(Array(SidebarData.length).fill(false));\r\n  const [menuExpanded, setMenuExpanded] = useState(false);\r\n  const [ethBalance, setEthBalance] = useState('');\r\n  const [account, setAccount] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (accounts.length > 0) {\r\n      setIsLogged(true);\r\n      loadAccountBalance(accounts[0]);\r\n    }\r\n  }, [accounts]);\r\n\r\n  const loadAccountBalance = async (account) => {\r\n    try {\r\n      const provider = detectCurrentProvider();\r\n      if (provider) {\r\n        const web3 = new Web3(provider);\r\n        const balance = await web3.eth.getBalance(account);\r\n        setEthBalance(parseFloat(web3.utils.fromWei(balance, 'ether')).toFixed(3)); // 設定餘額只顯示到小數點第三位\r\n      }\r\n    } catch (error) {\r\n      console.error('錯誤:', error);\r\n    }\r\n  };\r\n\r\n  const connectAccount = async () => {\r\n    if (isConnected === false) {\r\n      if (window.ethereum) {\r\n        const accounts = await window.ethereum.request({\r\n          method: \"eth_requestAccounts\",\r\n        });\r\n        setAccounts(accounts);\r\n        setAccount(accounts[0]);\r\n        setCurrentAccount(accounts[0]);\r\n        setConnected(true);\r\n        setIsLogged(true);\r\n        // 存储登录信息到本地存储\r\n        localStorage.setItem(\"loggedIn\", \"true\");\r\n        localStorage.setItem(\"currentAccount\", accounts[0]);\r\n        alert(\"登入成功!\");\r\n        navigate(\"/\");\r\n        loadAccountBalance(accounts[0]); // 加载账号余额\r\n      }\r\n    }\r\n  };\r\n\r\n  const showAccount = () => {\r\n    if (isLogged && account) { // 確保已登入並有帳戶資訊\r\n      const prefix = account.substr(0, 5);\r\n      const suffix = account.substr(36, 40);\r\n      return prefix + \"...\" + suffix;\r\n    }\r\n    return \"No account\";\r\n  };\r\n\r\n  setTimeout(() => {\r\n    if (accounts && accounts.length > 0 && accounts[0] !== currentAccount) {\r\n      setCurrentAccount(accounts[0]);\r\n      console.log(accounts[0]);\r\n    }\r\n  }, 100);\r\n\r\n  const handleSubMenuClick = (index, event) => {\r\n    event.stopPropagation();\r\n    setSubMenuOpen((prevState) => {\r\n      const newState = Array(SidebarData.length).fill(false); // 先将所有子菜单关闭\r\n      newState[index] = true; // 再打开指定的子菜单\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  const handleMenuItemClick = (index, event) => {\r\n    event.stopPropagation();\r\n    if (SidebarData[index].subMenu) {\r\n      event.preventDefault();\r\n      setSubMenuOpen((prevState) => {\r\n        const newState = [...prevState];\r\n        newState[index] = !newState[index];\r\n        return newState;\r\n      });\r\n    } else {\r\n      navigate(SidebarData[index].path);\r\n    }\r\n  };\r\n\r\n  const handleDownMenuItemClick = (index, event) =>{\r\n    event.stopPropagation();\r\n    navigate(SidebarData[index].path);\r\n  }\r\n\r\n  const reloadAccount = async () => {\r\n    try {\r\n      const provider = detectCurrentProvider();\r\n      if (provider) {\r\n        await provider.request({ method: 'wallet_requestPermissions', params: [{ eth_accounts: {} }] });\r\n        const accounts = await provider.request({ method: 'eth_requestAccounts' });\r\n        if (accounts && accounts.length > 0) {\r\n          const web3 = new Web3(provider);\r\n          const newAccount = accounts[0];\r\n          console.log('切換後的帳戶: ' + newAccount);\r\n          setAccount(newAccount);\r\n          localStorage.setItem(\"currentAccount\", newAccount);  //將轉變後的帳戶丟回localStorage\r\n          const balance = await web3.eth.getBalance(newAccount);\r\n          setEthBalance(parseFloat(web3.utils.fromWei(balance, 'ether')).toFixed(3)); // 設定餘額只顯示到小數點第三位\r\n          setIsLogged(true);\r\n          // 刷新页面\r\n          window.location.reload();\r\n        } else {\r\n          setIsLogged(false);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('錯誤:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 检查本地存储中是否存在登录信息\r\n    const loggedIn = localStorage.getItem(\"loggedIn\");\r\n    const currentAccount = localStorage.getItem(\"currentAccount\");\r\n    if (loggedIn === \"true\" && currentAccount) {\r\n      setIsLogged(true);\r\n      setAccount(currentAccount);\r\n      setCurrentAccount(currentAccount);\r\n      setConnected(true);\r\n      loadAccountBalance(currentAccount); // 加载账号余额\r\n    }\r\n  }, []);\r\n\r\n  const detectCurrentProvider = () => {\r\n    let provider;\r\n    if (window.ethereum) {\r\n      provider = window.ethereum;\r\n    } else if (window.web3) {\r\n      provider = window.web3.currentProvider;\r\n    } else {\r\n      console.log(\"偵測到非以太坊瀏覽器。請安裝 MetaMask 或其他支援的錢包\");\r\n    }\r\n    return provider;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconContext.Provider value={{ color: \"undefined\" }}>\r\n        <div className={`navbar ${menuExpanded ? \"menu-expanded\" : \"\"}`}>\r\n          <nav className={menuExpanded ? \"nav-menu expanded\" : \"nav-menu\"}>\r\n            <ul className=\"nav-menu-items\">\r\n            {SidebarData.map((item, index) => (\r\n              <li key={index}\r\n                className={`nav-item ${item.cName} ${subMenuOpen[index] ? \"show-sub-menu\" : \"\"}`}\r\n                onMouseEnter={(event) => handleSubMenuClick(index, event)} // 修改为 onMouseEnter\r\n                onMouseLeave={() => setSubMenuOpen((prevState) => {\r\n                  const newState = [...prevState];\r\n                  newState[index] = false;\r\n                  return newState;\r\n                })} // 添加 onMouseLeave\r\n              >\r\n              <Link to={item.path}>\r\n                {item.icon}\r\n                <span>{item.title}</span>\r\n                {item.subMenu && <AiIcons.AiOutlineDown style={{ marginLeft: \"auto\", marginRight: \"5px\" }} />}\r\n              </Link>\r\n              {item.subMenu && subMenuOpen[index] && (\r\n                <ul className=\"dropdown-container\">\r\n                  {item.subMenu.map((subItem, subIndex) => (\r\n                    <li key={subIndex} onClick={(event) => handleDownMenuItemClick(index, event)}>\r\n                      <Link to={subItem.path}>{subItem.title}</Link>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n              </li>\r\n            ))}\r\n            </ul>\r\n            <div className=\"log-in-area\">\r\n              {!isLogged && isMetamaskInstalled && (\r\n                <button className=\"log-in-btn\" onClick={connectAccount}>\r\n                  登入\r\n                </button>\r\n              )}\r\n              {!isMetamaskInstalled && (\r\n                <a\r\n                  className=\"install-link\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  href=\"https://metamask.io/download\"\r\n                >\r\n                  請安裝Metamask\r\n                </a>\r\n              )}\r\n              {isLogged && (\r\n                <div className=\"log-in-area\">\r\n                  <div className=\"show-account\">{showAccount()}</div>\r\n                  <div className=\"eth-balance\">餘額: {ethBalance} SepoliaETH</div>\r\n                  <button className=\"reload-btn\" onClick={reloadAccount}>\r\n                    切換帳號\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </IconContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}