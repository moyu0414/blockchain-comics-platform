{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Container,Row,Col,Card,Form,Button,Image}from'react-bootstrap';import{useParams}from\"react-router-dom\";import{message}from'antd';import{formatDate,disableAllButtons,enableAllButtons}from'../index';import{useTranslation}from'react-i18next';import i18n from'../i18n';import axios from'axios';import'./bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const website=process.env.REACT_APP_Website;const API_KEY=process.env.REACT_APP_API_KEY;const AuthorProfile=()=>{const[info,setInfo]=useState([]);const[msg,setMsg]=useState([]);const[isEditing,setIsEditing]=useState(false);const[isAdding,setIsAdding]=useState(false);const[editableInfo,setEditableInfo]=useState([]);const[addMsgInfo,setAddMsgInfo]=useState({date:'',msg:''});const[isButtonDisabled,setIsButtonDisabled]=useState(false);const[secondsLeft,setSecondsLeft]=useState(0);const[isEditEmail,setIsEditEmail]=useState(false);const[isBeing,setIsBeing]=useState(false);const[loading,setLoading]=useState(true);const{account}=useParams();const inputRefs=useRef([]);const currentAccount=localStorage.getItem(\"currentAccount\");const{t}=useTranslation();const headers={'api-key':API_KEY};const initData=async()=>{try{try{const response=await axios.get(\"\".concat(website,\"/api/authorProfile\"),{headers:headers,params:{currentAccount:account}});//console.log('Account:', account);\nlet infoData=response.data;if(infoData.length!==0){const imageResponse=await axios.get(\"\".concat(website,\"/api/creatorIMG/\").concat(account),{responseType:'blob',headers});const image=URL.createObjectURL(imageResponse.data);const updateInfo=infoData.map(data=>({penName:data.penName,email:data.info.editEamil?data.info.editEamil:data.info.email,intro:data.info.intro,image:image}));setEditableInfo({penName:updateInfo[0].penName,email:updateInfo[0].email,intro:updateInfo[0].intro?updateInfo[0].intro:''});const reversedEntries=(infoData[0].info.BBS?Object.entries(infoData[0].info.BBS):[]).reverse()// 反转数组\n.map(_ref=>{let[date,msg]=_ref;return{date,msg};});setMsg(reversedEntries);//console.log(updateInfo[0]);\nsetInfo(updateInfo[0]);setIsBeing(true);setLoading(false);}else{setLoading(false);}}catch(error){console.error('Error fetching records:',error);}}catch(error){console.error('Error initializing data:',error);}};useEffect(()=>{initData();},[account]);const handleEditToggle=()=>{setIsEditing(!isEditing);};const handleAddToggle=()=>{setIsAdding(!isAdding);};const handleChange=e=>{const{name,value}=e.target;setEditableInfo(prevInfo=>({...prevInfo,[name]:value}));};const handleAddMsg=e=>{const{name,value}=e.target;setAddMsgInfo(prevInfo=>({...prevInfo,[name]:value}));};const handleEdit=async()=>{try{disableAllButtons();if(editableInfo.email===''){message.info(t('email不可為空!'));enableAllButtons();return;}else if(editableInfo.penName===''){message.info(t('筆名不可為空!'));enableAllButtons();return;}else if(editableInfo.penName===info.penName&&editableInfo.email===info.email&&editableInfo.intro===info.intro){message.info(t('目前您未編輯任何東西'));enableAllButtons();return;}else if(editableInfo.email!==info.email){try{const editEamil={editEamil:editableInfo.email,account:currentAccount,penName:editableInfo.penName};const response=await axios.post(\"\".concat(website,\"/api/authorProfile-send-verification-email\"),editEamil,{headers});if(response.data.state){message.info(t('驗證碼15分鐘內有效!'));setIsEditEmail(true);startCountdown();}else{message.info(t('email發送錯誤，請重新再試!'));}}catch(error){console.error('Mailbox verification error:',error);}}else{try{const updatedFormData={...editableInfo,account:currentAccount};const response=await axios.put(\"\".concat(website,\"/api/update/EditProfile\"),updatedFormData,{headers});if(response.data.state){window.location.reload();}else{message.info(t('資料更新失敗!'));}}catch(error){console.error('Mailbox verification error:',error);}setIsEditing(false);}enableAllButtons();}catch(error){console.error('Mailbox verification error:',error);}setIsEditing(false);};const handleAdd=async()=>{if(addMsgInfo.msg==''){message.info(t('目前您未編輯任何東西'));return;}disableAllButtons();const date=new Date().toISOString().replace('T',' ').split('.')[0];const updateMsgInfo={...addMsgInfo,date:date,account:currentAccount};try{const response=await axios.put(\"\".concat(website,\"/api/update/AddProfile\"),updateMsgInfo,{headers});//console.log(response.data);\nif(response.data.state){window.location.reload();}else{message.info(t('訊息新增失敗!'));}enableAllButtons();}catch(error){console.error('Mailbox verification error:',error);}setIsAdding(false);};const startCountdown=()=>{setIsButtonDisabled(true);setSecondsLeft(60);const interval=setInterval(()=>{setSecondsLeft(prev=>{if(prev<=1){clearInterval(interval);setIsButtonDisabled(false);return 0;}return prev-1;});},1000);};const handleClick=async()=>{try{const verificationCode=inputRefs.current.map(input=>input.value).join('');if(!verificationCode||!currentAccount){alert('Verification code and account are required.');return;}const formData={token:verificationCode,account:currentAccount};const response=await axios.post(\"\".concat(website,\"/api/authorProfile-verify-email\"),formData,{headers});const{state,message}=response.data;if(state){try{const updatedFormData={...editableInfo,account:currentAccount};const response=await axios.put(\"\".concat(website,\"/api/update/EditProfile\"),updatedFormData,{headers});if(response.data.state){window.location.reload();}else{message.info(t('資料更新失敗!'));}}catch(error){console.error('Mailbox verification error:',error);}}else{alert(\"\".concat(t('驗證錯誤'),\": \").concat(message));}}catch(error){console.error('Verify email error:',error);message.info(t('電子郵件驗證錯誤，請重新在試!'));}};const handleInputChange=(e,index)=>{const inputs=inputRefs.current;if(e.target.value.length===1&&index<inputs.length-1){inputs[index+1].focus();}if(e.target.value.length===0&&index>0){inputs[index-1].focus();}};const isComplete=()=>{const verificationCode=inputRefs.current.map(input=>input.value).join('');return verificationCode.length===6;};return/*#__PURE__*/_jsxs(_Fragment,{children:[!loading&&/*#__PURE__*/_jsxs(Container,{className:\"authorProfile pt-4\",children:[!isBeing&&/*#__PURE__*/_jsx(Row,{className:\"pt-5 justify-content-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"fw-bold text-center\",children:t('這個創作者不存在，請稍後再試!')})}),isBeing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"profile my-4 pb-4\",children:[/*#__PURE__*/_jsx(Col,{xs:12,md:4,className:\"text-center profile-section\",children:/*#__PURE__*/_jsx(\"img\",{src:info.image,className:\"rounded-circle\",fluid:\"true\",alt:\"Author\"})}),/*#__PURE__*/_jsx(Col,{xs:12,md:8,className:\"profile-text-section\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[t('作者筆名'),\"\\uFF1A\",isEditing?/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"penName\",value:editableInfo.penName,onChange:handleChange}):info.penName]}),/*#__PURE__*/_jsxs(Card.Text,{children:[t('作者帳號'),\"\\uFF1A \",account]}),/*#__PURE__*/_jsxs(Card.Text,{children:[t('作者 Email'),\"\\uFF1A\",isEditing?/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:editableInfo.email,onChange:handleChange}):info.email]}),/*#__PURE__*/_jsxs(Card.Text,{children:[t('作者簡介'),\"\\uFF1A\",isEditing?/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"intro\",value:editableInfo.intro||'',onChange:handleChange}):/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:(info.intro||'').replace(/\\n/g,'<br/>')||t('這是一段簡短的作者介紹。')},style:{marginLeft:\"20px\"}})]}),currentAccount===account&&/*#__PURE__*/_jsxs(\"div\",{className:\"authorProfile-btn\",children:[isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"profile-send\",variant:\"primary\",onClick:handleEdit,children:t('提交')}),/*#__PURE__*/_jsx(Button,{className:\"profile-cancel\",variant:\"secondary\",onClick:handleEditToggle,children:t(\"取消\")}),/*#__PURE__*/_jsx(\"br\",{})]}):/*#__PURE__*/_jsx(Button,{className:\"profile-edit\",variant:\"primary\",onClick:handleEditToggle,disabled:isButtonDisabled||isAdding===true,children:t('個資編輯')}),isAdding?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"profile-send\",variant:\"primary\",onClick:handleAdd,children:t('提交')}),/*#__PURE__*/_jsx(Button,{className:\"profile-cancel\",variant:\"secondary\",onClick:handleAddToggle,children:t('取消')})]}):/*#__PURE__*/_jsx(Button,{className:\"profile-add\",variant:\"primary\",onClick:handleAddToggle,disabled:isButtonDisabled||isEditing===true,children:t('新增訊息')}),isEditEmail&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formVerificationCode\",className:\" mb-3\",children:[isButtonDisabled&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 \",style:{marginBottom:\"-10px\"},children:t('60秒後再啟動按鈕-幾秒',{secondsLeft:secondsLeft})}),/*#__PURE__*/_jsx(Form.Label,{className:\"verification\",children:t('信箱驗證碼')}),/*#__PURE__*/_jsx(\"div\",{className:\"verification-code-inputs w-100\",children:[...Array(6)].map((_,index)=>/*#__PURE__*/_jsx(Form.Control,{type:\"text\",maxLength:\"1\",className:\"verification-code-input\",ref:el=>inputRefs.current[index]=el,onChange:e=>handleInputChange(e,index)},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"verification-btn-section mt-4 w-100\",children:/*#__PURE__*/_jsx(Button,{onClick:handleClick,variant:isComplete()?'success':'secondary',disabled:!isComplete(),className:\"verify-btn\",children:t('驗證')})})]})]})]})})}),/*#__PURE__*/_jsx(Col,{children:isAdding&&/*#__PURE__*/_jsx(Card.Body,{className:\"post-section\",children:/*#__PURE__*/_jsx(Card.Text,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"msg\",value:addMsgInfo.msg,onChange:handleAddMsg})})})})]}),/*#__PURE__*/_jsx(Row,{className:\"my-4\",children:/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"center\",{children:t('訊息公告')})}),msg.map((date,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{xs:2,className:\"post-author\",children:/*#__PURE__*/_jsx(\"img\",{src:info.image,className:\"rounded-circle\",fluid:\"true\",alt:\"Author\"})}),/*#__PURE__*/_jsxs(Col,{xs:10,children:[/*#__PURE__*/_jsx(\"strong\",{children:info.penName}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-muted\",children:/*#__PURE__*/_jsx(\"strong\",{children:date.date})})]})]})}),/*#__PURE__*/_jsx(Card.Body,{className:\"post-section\",children:/*#__PURE__*/_jsx(Card.Text,{children:/*#__PURE__*/_jsx(\"div\",{children:date.msg.split('\\n').map((line,index)=>/*#__PURE__*/_jsx(\"div\",{children:line},index))})})})]},date.date))]})})})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{children:t('頁面加載中')})})]});};export default AuthorProfile;","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Row","Col","Card","Form","Button","Image","useParams","message","formatDate","disableAllButtons","enableAllButtons","useTranslation","i18n","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","website","process","env","REACT_APP_Website","API_KEY","REACT_APP_API_KEY","AuthorProfile","info","setInfo","msg","setMsg","isEditing","setIsEditing","isAdding","setIsAdding","editableInfo","setEditableInfo","addMsgInfo","setAddMsgInfo","date","isButtonDisabled","setIsButtonDisabled","secondsLeft","setSecondsLeft","isEditEmail","setIsEditEmail","isBeing","setIsBeing","loading","setLoading","account","inputRefs","currentAccount","localStorage","getItem","t","headers","initData","response","get","concat","params","infoData","data","length","imageResponse","responseType","image","URL","createObjectURL","updateInfo","map","penName","email","editEamil","intro","reversedEntries","BBS","Object","entries","reverse","_ref","error","console","handleEditToggle","handleAddToggle","handleChange","e","name","value","target","prevInfo","handleAddMsg","handleEdit","post","state","startCountdown","updatedFormData","put","window","location","reload","handleAdd","Date","toISOString","replace","split","updateMsgInfo","interval","setInterval","prev","clearInterval","handleClick","verificationCode","current","input","join","alert","formData","token","handleInputChange","index","inputs","focus","isComplete","children","className","xs","md","src","fluid","alt","Body","Title","Control","type","onChange","Text","as","rows","dangerouslySetInnerHTML","__html","style","marginLeft","variant","onClick","disabled","Group","controlId","marginBottom","Label","Array","_","maxLength","ref","el","Header","line"],"sources":["C:/Users/user1/Desktop/blockchain-comics-platform/frontend/src/routes/authorProfile.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Container, Row, Col, Card, Form, Button, Image } from 'react-bootstrap';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { message } from 'antd';\r\nimport { formatDate, disableAllButtons, enableAllButtons } from '../index';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18n from '../i18n';\r\nimport axios from 'axios';\r\nimport './bootstrap.min.css';\r\nconst website = process.env.REACT_APP_Website;\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst AuthorProfile = () => {\r\n    const [info , setInfo] = useState([])\r\n    const [msg , setMsg] = useState([])\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const [editableInfo, setEditableInfo] = useState([]);\r\n    const [addMsgInfo, setAddMsgInfo] = useState({date: '', msg: ''});\r\n    const [isButtonDisabled, setIsButtonDisabled] = useState(false);\r\n    const [secondsLeft, setSecondsLeft] = useState(0);\r\n    const [isEditEmail, setIsEditEmail] = useState(false);\r\n    const [isBeing, setIsBeing] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const { account } = useParams();\r\n    const inputRefs = useRef([]);\r\n    const currentAccount = localStorage.getItem(\"currentAccount\");\r\n    const { t } = useTranslation();\r\n    const headers = {'api-key': API_KEY};\r\n\r\n    const initData = async () => {\r\n        try {\r\n            try {\r\n                const response = await axios.get(`${website}/api/authorProfile`, {\r\n                    headers: headers,\r\n                    params: {\r\n                        currentAccount: account\r\n                    }\r\n                });\r\n                //console.log('Account:', account);\r\n                let infoData = response.data;\r\n                if (infoData.length !== 0) {\r\n                    const imageResponse = await axios.get(`${website}/api/creatorIMG/${account}`, { responseType: 'blob', headers });\r\n                    const image = URL.createObjectURL(imageResponse.data);\r\n\r\n                    const updateInfo = infoData.map(data => ({\r\n                        penName: data.penName,\r\n                        email: data.info.editEamil ? data.info.editEamil : data.info.email,\r\n                        intro: data.info.intro,\r\n                        image: image\r\n                    }));\r\n                    setEditableInfo({\r\n                        penName: updateInfo[0].penName,\r\n                        email: updateInfo[0].email,\r\n                        intro: updateInfo[0].intro ? updateInfo[0].intro : '',\r\n                    });\r\n                    const reversedEntries = (infoData[0].info.BBS ? \r\n                        Object.entries(infoData[0].info.BBS) : []\r\n                    ).reverse() // 反转数组\r\n                      .map(([date, msg]) => ({\r\n                          date,\r\n                          msg,\r\n                      }));\r\n                    setMsg(reversedEntries);\r\n                    //console.log(updateInfo[0]);\r\n                    setInfo(updateInfo[0]);\r\n                    setIsBeing(true);\r\n                    setLoading(false);\r\n                } else {\r\n                    setLoading(false);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching records:', error);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error initializing data:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        initData();\r\n    }, [account]);\r\n\r\n    const handleEditToggle = () => {\r\n        setIsEditing(!isEditing);\r\n    };\r\n\r\n    const handleAddToggle = () => {\r\n        setIsAdding(!isAdding);\r\n    };\r\n    \r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setEditableInfo(prevInfo => ({\r\n            ...prevInfo,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleAddMsg = (e) => {\r\n        const { name, value } = e.target;\r\n        setAddMsgInfo(prevInfo => ({\r\n            ...prevInfo,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const handleEdit = async () => {\r\n        try {\r\n            disableAllButtons();\r\n            if (editableInfo.email === '') {\r\n                message.info(t('email不可為空!'));\r\n                enableAllButtons();\r\n                return;\r\n            } else if (editableInfo.penName === '') {\r\n                message.info(t('筆名不可為空!'));\r\n                enableAllButtons();\r\n                return;\r\n            } else if (editableInfo.penName === info.penName && editableInfo.email === info.email && editableInfo.intro === info.intro) {\r\n                message.info(t('目前您未編輯任何東西'));\r\n                enableAllButtons();\r\n                return;\r\n            } else if (editableInfo.email !== info.email) {\r\n                try {\r\n                    const editEamil = { editEamil: editableInfo.email, account: currentAccount, penName: editableInfo.penName };\r\n                    const response = await axios.post(`${website}/api/authorProfile-send-verification-email`, editEamil, { headers });\r\n                    if (response.data.state) {\r\n                        message.info(t('驗證碼15分鐘內有效!'));\r\n                        setIsEditEmail(true);\r\n                        startCountdown();\r\n                    } else {\r\n                        message.info(t('email發送錯誤，請重新再試!'));\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Mailbox verification error:', error);\r\n                }\r\n            } else {\r\n                try {\r\n                    const updatedFormData = { ...editableInfo, account: currentAccount };\r\n                    const response = await axios.put(`${website}/api/update/EditProfile`, updatedFormData, { headers });\r\n                    if (response.data.state) {\r\n                        window.location.reload();\r\n                    } else {\r\n                        message.info(t('資料更新失敗!'));\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Mailbox verification error:', error);\r\n                }\r\n                setIsEditing(false);\r\n            }\r\n            enableAllButtons();\r\n        } catch (error) {\r\n            console.error('Mailbox verification error:', error);\r\n        }\r\n        setIsEditing(false);\r\n    };\r\n\r\n    const handleAdd = async () => {\r\n        if (addMsgInfo.msg == '') {\r\n            message.info(t('目前您未編輯任何東西'));\r\n            return;\r\n        }\r\n        disableAllButtons();\r\n        const date = new Date().toISOString().replace('T', ' ').split('.')[0];\r\n        const updateMsgInfo = {\r\n            ...addMsgInfo,\r\n            date: date,\r\n            account: currentAccount\r\n        };\r\n        try {\r\n            const response = await axios.put(`${website}/api/update/AddProfile`, updateMsgInfo, { headers });\r\n            //console.log(response.data);\r\n            if (response.data.state) {\r\n                window.location.reload();\r\n            } else {\r\n                message.info(t('訊息新增失敗!'));\r\n            }\r\n            enableAllButtons();\r\n        } catch (error) {\r\n            console.error('Mailbox verification error:', error);\r\n        }\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const startCountdown = () => {\r\n        setIsButtonDisabled(true);\r\n        setSecondsLeft(60);\r\n        const interval = setInterval(() => {\r\n            setSecondsLeft(prev => {\r\n                if (prev <= 1) {\r\n                    clearInterval(interval);\r\n                    setIsButtonDisabled(false);\r\n                    return 0;\r\n                }\r\n                return prev - 1;\r\n            });\r\n        }, 1000);\r\n    };\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n          const verificationCode = inputRefs.current.map(input => input.value).join('');\r\n          if (!verificationCode || !currentAccount) {\r\n            alert('Verification code and account are required.');\r\n            return;\r\n          }\r\n          const formData = { token: verificationCode, account: currentAccount };\r\n          const response = await axios.post(`${website}/api/authorProfile-verify-email`, formData, { headers });\r\n      \r\n          const { state, message } = response.data;\r\n          if (state) {\r\n            try {\r\n                const updatedFormData = { ...editableInfo, account: currentAccount };\r\n                const response = await axios.put(`${website}/api/update/EditProfile`, updatedFormData, { headers });\r\n                if (response.data.state) {\r\n                    window.location.reload();\r\n                } else {\r\n                    message.info(t('資料更新失敗!'));\r\n                }\r\n            } catch (error) {\r\n                console.error('Mailbox verification error:', error);\r\n            }\r\n          } else {\r\n            alert(`${t('驗證錯誤')}: ${message}`);\r\n          }\r\n        } catch (error) {\r\n          console.error('Verify email error:', error);\r\n          message.info(t('電子郵件驗證錯誤，請重新在試!'));\r\n        }\r\n      };\r\n      \r\n\r\n    const handleInputChange = (e, index) => {\r\n        const inputs = inputRefs.current;\r\n        if (e.target.value.length === 1 && index < inputs.length - 1) {\r\n            inputs[index + 1].focus();\r\n        }\r\n        if (e.target.value.length === 0 && index > 0) {\r\n            inputs[index - 1].focus();\r\n        }\r\n    };\r\n\r\n    const isComplete = () => {\r\n        const verificationCode = inputRefs.current.map(input => input.value).join('');\r\n        return verificationCode.length === 6;\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n        {!loading &&\r\n            <Container className='authorProfile pt-4'>\r\n                {!isBeing && (\r\n                    <Row className='pt-5 justify-content-center'>\r\n                        <h1 className=\"fw-bold text-center\">{t('這個創作者不存在，請稍後再試!')}</h1>\r\n                    </Row>\r\n                )}\r\n                {isBeing &&  (\r\n                    <>\r\n                    <Row className=\"profile my-4 pb-4\">\r\n                        <Col xs={12} md={4} className=\"text-center profile-section\">\r\n                            <img \r\n                                src={info.image} \r\n                                className=\"rounded-circle\" \r\n                                fluid=\"true\" \r\n                                alt=\"Author\"\r\n                            />\r\n                        </Col>\r\n                        <Col xs={12} md={8} className='profile-text-section'>\r\n                        <Card>\r\n                            <Card.Body>\r\n                                <Card.Title>\r\n                                    {t('作者筆名')}：\r\n                                    {isEditing ? (\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            name=\"penName\"\r\n                                            value={editableInfo.penName}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    ) : (\r\n                                        info.penName\r\n                                    )}\r\n                                </Card.Title>\r\n                                <Card.Text>{t('作者帳號')}： {account}</Card.Text>\r\n                                <Card.Text>\r\n                                    {t('作者 Email')}：\r\n                                    {isEditing ? (\r\n                                        <Form.Control\r\n                                            type=\"email\"\r\n                                            name=\"email\"\r\n                                            value={editableInfo.email}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    ) : (\r\n                                        info.email\r\n                                    )}\r\n                                </Card.Text>\r\n                                <Card.Text>\r\n                                    {t('作者簡介')}：\r\n                                    {isEditing ? (\r\n                                        <Form.Control\r\n                                            as=\"textarea\"\r\n                                            rows={3}\r\n                                            name=\"intro\"\r\n                                            value={editableInfo.intro || ''}\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    ) : (\r\n                                        <div\r\n                                            dangerouslySetInnerHTML={{\r\n                                                __html: (info.intro || '').replace(/\\n/g, '<br/>') || t('這是一段簡短的作者介紹。')\r\n                                            }}\r\n                                            style={{ marginLeft: \"20px\" }}\r\n                                        />\r\n                                    )}\r\n                                </Card.Text>\r\n                                {currentAccount === account && (\r\n                                    <div className=\"authorProfile-btn\">\r\n                                        {isEditing ? (\r\n                                            <>\r\n                                                <Button className='profile-send' variant=\"primary\" onClick={handleEdit}>{t('提交')}</Button>\r\n                                                <Button className='profile-cancel' variant=\"secondary\" onClick={handleEditToggle}>{t(\"取消\")}</Button>\r\n                                                <br />\r\n                                            </>\r\n                                        ) : (\r\n                                                <Button className='profile-edit' variant=\"primary\" onClick={handleEditToggle} disabled={isButtonDisabled || isAdding === true}>{t('個資編輯')}</Button>\r\n                                        )}\r\n                                        {isAdding ? (\r\n                                            <>\r\n                                                <br />\r\n                                                <Button className='profile-send' variant=\"primary\" onClick={handleAdd}>{t('提交')}</Button>\r\n                                                <Button className='profile-cancel' variant=\"secondary\" onClick={handleAddToggle}>{t('取消')}</Button>\r\n                                            </>\r\n                                        ) : (\r\n                                            <Button className='profile-add' variant=\"primary\" onClick={handleAddToggle} disabled={isButtonDisabled || isEditing === true}>{t('新增訊息')}</Button>\r\n                                        )}\r\n                                        {isEditEmail && (\r\n                                            <>\r\n                                            <Form.Group controlId=\"formVerificationCode\" className=\" mb-3\">\r\n                                                {isButtonDisabled && (\r\n                                                    <p className=\"mt-4 \" style={{ marginBottom: \"-10px\" }}>{t('60秒後再啟動按鈕-幾秒', { secondsLeft: secondsLeft })}</p>\r\n                                                 )}\r\n                                                <Form.Label className=\"verification\">{t('信箱驗證碼')}</Form.Label>\r\n                                                <div className=\"verification-code-inputs w-100\">\r\n                                                    {[...Array(6)].map((_, index) => (\r\n                                                        <Form.Control\r\n                                                        key={index}\r\n                                                        type=\"text\"\r\n                                                        maxLength=\"1\"\r\n                                                        className=\"verification-code-input\"\r\n                                                        ref={(el) => (inputRefs.current[index] = el)}\r\n                                                        onChange={(e) => handleInputChange(e, index)}\r\n                                                    />\r\n                                                    ))}\r\n                                                </div>\r\n                                            </Form.Group>\r\n                                            <div className=\"verification-btn-section mt-4 w-100\">\r\n                                                <Button \r\n                                                    onClick={handleClick}\r\n                                                    variant={isComplete() ? 'success' : 'secondary'}\r\n                                                    disabled={!isComplete()}\r\n                                                    className=\"verify-btn\"\r\n                                                >{t('驗證')}</Button>\r\n                                            </div>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                            {isAdding && (\r\n                                <Card.Body className='post-section'>\r\n                                    <Card.Text>\r\n                                            <Form.Control\r\n                                                as=\"textarea\"\r\n                                                rows={3}\r\n                                                name=\"msg\"\r\n                                                value={addMsgInfo.msg}\r\n                                                onChange={handleAddMsg}\r\n                                            />\r\n                                    </Card.Text>\r\n                                </Card.Body>\r\n                            )}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"my-4\">\r\n                        <Col xs={12}>\r\n                            <Card>\r\n                                <h4><center>{t('訊息公告')}</center></h4>\r\n                                {msg.map((date, index) => (\r\n                                    <div key={date.date}>\r\n                                        <Card.Header>\r\n                                            <Row className=\"align-items-center\">\r\n                                                <Col xs={2} className='post-author'>\r\n                                                    <img \r\n                                                        src={info.image} \r\n                                                        className=\"rounded-circle\" \r\n                                                        fluid=\"true\" \r\n                                                        alt=\"Author\"\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col xs={10}>\r\n                                                    <strong>{info.penName}</strong>\r\n                                                    <p className=\"mb-0 text-muted\">\r\n                                                        <strong>{date.date}</strong>\r\n                                                    </p>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Card.Header>\r\n                                        <Card.Body className='post-section'>\r\n                                            <Card.Text>\r\n                                                <div>{date.msg.split('\\n').map((line, index) => <div key={index}>{line}</div>)}</div>\r\n                                            </Card.Text>\r\n                                        </Card.Body>\r\n                                    </div>\r\n                                ))}\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n                    </>\r\n                )}\r\n            </Container>\r\n        }\r\n        {loading &&  \r\n            <div className=\"loading-container\">\r\n                <div>{t('頁面加載中')}</div>\r\n            </div>\r\n        }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AuthorProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}