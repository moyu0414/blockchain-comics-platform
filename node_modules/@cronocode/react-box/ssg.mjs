import { S as o } from "./core.mjs";
import a from "react-dom/server";
const t = {
  innerHTML: ""
}, d = {
  head: {
    insertBefore() {
    }
  },
  getElementById() {
    return t;
  },
  createElement() {
    return {
      setAttribute() {
      }
    };
  }
};
global.document = d;
function f(i, l = !0) {
  let e = a.renderToStaticMarkup(i);
  if (o.flush(), l) {
    const n = "<head>", r = e.indexOf(n);
    if (r > -1) {
      const c = `<style id="crono-styles">${t.innerHTML}</style>`, s = r + n.length;
      e = e.substring(0, s) + c + e.substring(s);
    }
  }
  return o.clear(), {
    html: e,
    styles: t.innerHTML
  };
}
export {
  f as renderToStaticMarkup
};
